# KOSPI200 íˆ¬íŠ¸ë™ í€€íŠ¸ íˆ¬ì ì „ëµ íŒŒì´í”„ë¼ì¸

KOSPI200 ì£¼ì‹ì„ ëŒ€ìƒìœ¼ë¡œ í•œ **íˆ¬íŠ¸ë™(Two-Track)** í€€íŠ¸ íˆ¬ì ì „ëµ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## âœ… **í”„ë¡œì íŠ¸ ìƒíƒœ: ìµœì¢… ì™„ë£Œ (2026-01-19)**
**ì™„ì „í•œ ë¡œì»¬ ì •ë¦¬ ë° ìµœì í™” ì™„ë£Œ** ğŸ‰

### ğŸ§¹ **ë ˆí¬ ì •ë¦¬ ì‘ì—… ì™„ë£Œ**
- **ì •ë¦¬ëœ íŒŒì¼**: 1,264+ê°œ íŒŒì¼ ê²©ë¦¬
- **ë£¨íŠ¸ ë””ë ‰í† ë¦¬**: 183ê°œ â†’ 9ê°œë¡œ ì •ë¦¬ (95% ê°ì†Œ)
- **í´ë” êµ¬ì¡°**: ì™„ì „ ëª¨ë“ˆí™” ë° ìµœì í™”
- **ì •ë¦¬ ë¡œê·¸**: `docs/LOCAL_ì •ë¦¬_ë¡œê·¸.md` ì°¸ê³ 

## ğŸ“¦ **í”„ë¡œì íŠ¸ ìµœì¢… ìƒíƒœ ê³ ì •**
**í˜„ì¬ ìƒíƒœê°€ ê³µì‹ ìµœì¢… ë²„ì „ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤**
- **ì™„ë£Œ ì¼ì‹œ**: 2026-01-19
- **í¬í•¨ ë‚´ìš©**: ì •ë¦¬ëœ ì½”ë“œ, ì„¤ì •, ë¬¸ì„œ íŒŒì¼ë“¤
- **LOCAL_TRASH**: ê²©ë¦¬ëœ íŒŒì¼ë“¤ ì•ˆì „ ë³´ê´€
- **ì°¸ê³  ë¬¸ì„œ**: `docs/LOCAL_ì •ë¦¬_ë¡œê·¸.md`

## ğŸ† í”„ë¡œì íŠ¸ ìµœì¢… ì„±ê³¼ (ì™„ë£Œ)

### âœ… **ì£¼ìš” ëª©í‘œ ë‹¬ì„±**
- **Track A (ë­í‚¹ ì—”ì§„)**: bt120_long **Sharpe 0.6092** ë‹¬ì„± âœ…
- **ì•™ìƒë¸” ìµœì í™”**: 4ê°œ ëª¨ë¸ì˜ ê°•ì  ê²°í•© ì„±ê³µ âœ…
- **ê³¼ì í•© ë°©ì§€**: IC Diff 92%+ ê°ì†Œë¡œ ì•ˆì •í™” âœ…
- **ì‹¤ì „ ì ìš© ì¤€ë¹„**: ì¼ë°˜í™” ì„±ëŠ¥ ê²€ì¦ ì™„ë£Œ âœ…

### ğŸ“Š **ìµœì¢… ë°±í…ŒìŠ¤íŠ¸ ì„±ê³¼ (Holdout êµ¬ê°„)**
| ì „ëµ | Sharpe | CAGR | MDD | Calmar | Hit Ratio | ìƒíƒœ |
|------|--------|------|-----|--------|-----------|------|
| **bt120_long** | **0.6092** | 7.61% | -5.90% | 1.2893 | 60.87% | â­ **ì£¼ìš” ì „ëµ** |
| bt20_ens | 0.6138 | 8.44% | -8.13% | 1.0384 | 52.17% | âœ… **ì•ˆì •ì ** |
| bt20_short | 0.5934 | 8.04% | -6.29% | 1.2778 | 52.17% | âœ… **ì•ˆì •ì ** |
| bt120_ens | 0.5677 | 6.67% | -5.45% | 1.2244 | 60.87% | âœ… **ì•ˆì •ì ** |

## ğŸ¯ í”„ë¡œì íŠ¸ í•µì‹¬ ëª©ì 

ë³¸ í”„ë¡œì íŠ¸ëŠ” **ë‘ ê°€ì§€ ë…ë¦½ì ì¸ íŠ¸ë™**ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ì´ìš©ìì—ê²Œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤:

1. **Track A (ë­í‚¹ ì—”ì§„)**: í”¼ì²˜ë“¤ë¡œ KOSPI200ì˜ ë­í‚¹ì„ ì‚°ì •í•˜ì—¬ ì´ìš©ìì—ê²Œ ì œê³µ
2. **Track B (íˆ¬ì ëª¨ë¸)**: ë­í‚¹ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ íˆ¬ìëª¨ë¸ ì˜ˆì‹œë¥¼ ë§Œë“¤ì–´ ì´ìš©ìì—ê²Œ ì •ë³´ ì œê³µ

ë‘ íŠ¸ë™ì€ **ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥**í•˜ë©°, ê°ê° ë‹¤ë¥¸ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤.

### ğŸ§¹ **í”„ë¡œì íŠ¸ ì •ë¦¬ íŠ¹ì§•**
- **ì™„ì „ ëª¨ë“ˆí™”**: ê° ê¸°ëŠ¥ë³„ í´ë” ë¶„ë¦¬ ë° ìµœì í™”
- **ê¹”ë”í•œ êµ¬ì¡°**: ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ë¶ˆí•„ìš” íŒŒì¼ ì™„ì „ ì œê±°
- **ì•ˆì „í•œ ë³´ê´€**: LOCAL_TRASH í´ë”ë¥¼ í†µí•œ íŒŒì¼ ë°±ì—…
- **ìœ ì§€ë³´ìˆ˜ ìš©ì´**: ì •ë¦¬ëœ êµ¬ì¡°ë¡œ ì½”ë“œ ê´€ë¦¬ íš¨ìœ¨ì„± ê·¹ëŒ€í™”

## ğŸ–ï¸ **Track A ìµœì¢… êµ¬ì„± (ì•™ìƒë¸” ìµœì í™” ì™„ë£Œ)**

### **ì•™ìƒë¸” ê°€ì¤‘ì¹˜ (ê³¼ì í•© ê°œì„  ì ìš©)**
| ì „ëµ | Grid Search | Ridge | XGBoost | Random Forest | IC | ICIR | Hit Ratio |
|------|-------------|-------|---------|---------------|----|------|-----------|
| **ë‹¨ê¸°** | 30% | 60% | 10% | 0% | 0.0366 | 0.3502 | 53.3% |
| **ì¥ê¸°** | 5% | 15% | 80% | 0% | 0.0633 | 1.1449 | 62.8% |

### **ì‚¬ìš© ëª¨ë¸**
- **Grid Search**: í”¼ì²˜ ê·¸ë£¹ë³„ ê°€ì¤‘ì¹˜ ìµœì í™” (L8 ë‹¨ê³„)
- **Ridge**: ê°œë³„ í”¼ì²˜ ê°€ì¤‘ì¹˜ ìë™ í•™ìŠµ (L5 ë‹¨ê³„)
- **XGBoost**: ì•™ìƒë¸” ML ëª¨ë¸ (L5 ë‹¨ê³„)
- **Random Forest**: ê°œì„ ëœ ML ëª¨ë¸ (IC=0 ë¬¸ì œ í•´ê²°)

### **ê³¼ì í•© ë°©ì§€ ì„±ê³¼**
- **ë‹¨ê¸° ì „ëµ**: IC Diff 0.0371 (LOW ìœ„í—˜)
- **ì¥ê¸° ì „ëµ**: IC Diff 0.0557 (MEDIUM ìœ„í—˜)
- **ê°œì„  íš¨ê³¼**: IC Diff 92%+ ê°ì†Œë¡œ ì‹¤ì „ ì ìš© ê°€ëŠ¥



## ğŸ“‚ í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° (ìµœì¢… ì •ë¦¬ ì™„ë£Œ)

```
000_code/
â”œâ”€â”€ .github/              # ğŸ”„ CI/CD ì›Œí¬í”Œë¡œìš°
â”œâ”€â”€ configs/              # âš™ï¸ ì„¤ì • íŒŒì¼ë“¤ (74ê°œ YAML)
â”œâ”€â”€ src/                  # ğŸ’» í•µì‹¬ ì†ŒìŠ¤ ì½”ë“œ (199ê°œ Python)
â”œâ”€â”€ scripts/              # ğŸš€ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ë“¤ (290+ê°œ íŒŒì¼)
â”‚   â”œâ”€â”€ run_pipeline_l0_l7.py
â”‚   â”œâ”€â”€ run_multiple_tests.py
â”‚   â””â”€â”€ ë¶„ì„/ì‹¤í—˜ ìŠ¤í¬ë¦½íŠ¸ë“¤
â”œâ”€â”€ data/                 # ğŸ“Š ìƒ˜í”Œ ë°ì´í„° (ì¬í˜„ìš©)
â”‚   â”œâ”€â”€ interim/          # ë°±í…ŒìŠ¤íŠ¸ ì¤‘ê°„ ê²°ê³¼
â”‚   â”œâ”€â”€ external/         # ì™¸ë¶€ ë°ì´í„° ìƒ˜í”Œ
â”‚   â””â”€â”€ sample_data_readme.md  # ë°ì´í„° ì‚¬ìš© ê°€ì´ë“œ
â”œâ”€â”€ tests/                # ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ (9ê°œ íŒŒì¼)
â”œâ”€â”€ docs/                 # ğŸ“š ë¬¸ì„œ íŒŒì¼ë“¤ (41ê°œ íŒŒì¼)
â”‚   â”œâ”€â”€ LOCAL_ì •ë¦¬_ë¡œê·¸.md
â”‚   â”œâ”€â”€ ppt_presentation_final_guide.md
â”‚   â””â”€â”€ í”„ë¡œì íŠ¸ ë¬¸ì„œë“¤
â””â”€â”€ í”„ë¡œì íŠ¸ ì„¤ì • íŒŒì¼ë“¤
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ pyproject.toml
    â”œâ”€â”€ pytest.ini
    â”œâ”€â”€ Makefile
    â””â”€â”€ README.md
```

### ğŸ“‹ í´ë” ì„¤ëª…

- **.github/**: CI/CD ì›Œí¬í”Œë¡œìš° ë° ìë™í™” ì„¤ì •
- **configs/**: ëª¨ë“  YAML ì„¤ì • íŒŒì¼ë“¤ (74ê°œ)
- **src/**: Track A/B êµ¬í˜„, ë°ì´í„° íŒŒì´í”„ë¼ì¸, ìœ í‹¸ë¦¬í‹° (199ê°œ Python íŒŒì¼)
- **data/**: ìƒ˜í”Œ ë°ì´í„°ì…‹ (ì¬í˜„ì„± í™•ë³´)
  - `interim/`: ë°±í…ŒìŠ¤íŠ¸ ì¤‘ê°„ ê²°ê³¼
  - `external/`: ì™¸ë¶€ ë°ì´í„° ìƒ˜í”Œ (ESG, ì„¹í„° ë“±)
- **scripts/**: í”„ë¡œì íŠ¸ ì‹¤í–‰ ë° ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ë“¤ (290+ê°œ íŒŒì¼)
- **tests/**: ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ ì½”ë“œ (9ê°œ íŒŒì¼)
- **docs/**: ëª¨ë“  ë¬¸ì„œ íŒŒì¼ë“¤ (PPT, ë³´ê³ ì„œ, ì •ë¦¬ ë¡œê·¸ ë“±)
- **í”„ë¡œì íŠ¸ ì„¤ì •**: .gitignore, pyproject.toml, pytest.ini, Makefile ë“±

## í”„ë¡œì íŠ¸ ê°œìš”

### ğŸ¯ Track A: ë­í‚¹ ì—”ì§„ (Ranking Engine)
**ëª©ì **: í”¼ì²˜ë“¤ë¡œ KOSPI200ì˜ ë­í‚¹ì„ ì‚°ì •í•˜ì—¬ ì´ìš©ìì—ê²Œ ì œê³µ

- **L8**: ë­í‚¹ ì—”ì§„ ì‹¤í–‰
  - í”¼ì²˜ ê¸°ë°˜ ë­í‚¹ ìƒì„± (ë‹¨ê¸°/ì¥ê¸°/í†µí•©)
  - í”¼ì²˜ ê°€ì¤‘ì¹˜ ë° ì •ê·œí™”ë¥¼ í†µí•œ ì¢…ëª© ë­í‚¹ ì‚°ì •
  - `ranking_daily` ì‚°ì¶œë¬¼ ìƒì„±
- **L11**: UI Payload Builder
  - ë­í‚¹ ë°ì´í„°ë¥¼ UIì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë³€í™˜
  - íˆ¬ì ì„±ê²©(ë°©ì–´/ê· í˜•/ë¯¼ê°)ë³„ ë­í‚¹ ì œê³µ

**ì‚°ì¶œë¬¼**: `ranking_daily` (ë‚ ì§œë³„ ì¢…ëª© ë­í‚¹)

### ğŸ’¼ Track B: íˆ¬ì ëª¨ë¸ (Investment Model)
**ëª©ì **: ë­í‚¹ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ íˆ¬ìëª¨ë¸ ì˜ˆì‹œë¥¼ ë§Œë“¤ì–´ ì´ìš©ìì—ê²Œ ì •ë³´ ì œê³µ

- **L6R**: ë­í‚¹ ìŠ¤ì½”ì–´ ë³€í™˜
  - ë­í‚¹ ë°ì´í„°ë¥¼ ë°±í…ŒìŠ¤íŠ¸ìš© ìŠ¤ì½”ì–´ë¡œ ë³€í™˜
  - ë‹¨ê¸°/ì¥ê¸°/í†µí•© ë­í‚¹ì„ íˆ¬ì ì‹ í˜¸ë¡œ í™œìš©
- **L7**: ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
  - BT20 (20ì¼ ë³´ìœ  ê¸°ê°„) ì „ëµ
  - BT120 (120ì¼ ë³´ìœ  ê¸°ê°„) ì „ëµ
  - ë‹¤ì–‘í•œ íˆ¬ì ëª¨ë¸ ì˜ˆì‹œ ì œê³µ

**ì‚°ì¶œë¬¼**: `bt_metrics`, `bt_returns`, `bt_equity_curve` (ë°±í…ŒìŠ¤íŠ¸ ì„±ê³¼ ì§€í‘œ)

---

## í•µì‹¬ ê°œë…

### Track A: ë­í‚¹ ì—”ì§„
- **ë­í‚¹**: í”¼ì²˜ ê¸°ë°˜ ì¢…ëª© ë­í‚¹ (ë‹¨ê¸°/ì¥ê¸°/í†µí•©)
- **í”¼ì²˜**: ê¸°ìˆ ì  ì§€í‘œ, ì¬ë¬´ ì§€í‘œ, ë‰´ìŠ¤ ê°ì„±, ESG ë“±
- **íˆ¬ì ì„±ê²©**: ë°©ì–´/ê· í˜•/ë¯¼ê° (Î± íŒŒë¼ë¯¸í„°)
- **ì‹ í˜¸ ê²°í•©**: ë‹¨ê¸°/ì¥ê¸° ë­í‚¹ ê²°í•© ë¹„ì¤‘ (Î³ íŒŒë¼ë¯¸í„°)

### Track B: íˆ¬ì ëª¨ë¸
- **BT20**: 20ì¼ ë³´ìœ  ê¸°ê°„ ì „ëµ (ë‹¨ê¸° íˆ¬ì)
- **BT120**: 120ì¼ ë³´ìœ  ê¸°ê°„ ì „ëµ (ì¥ê¸° íˆ¬ì)
- **4ê°œ ì „ëµ**:
  1. BT20 í†µí•© ëª¨ë¸ (`l7_bt20_ens`): ë‹¨ê¸° ë³´ìœ (20ì¼) + í†µí•© ë­í‚¹
  2. BT20 ë¶„ë¦¬ ëª¨ë¸ (`l7_bt20_short`): ë‹¨ê¸° ë³´ìœ (20ì¼) + ë‹¨ê¸° ë­í‚¹ë§Œ
  3. BT120 í†µí•© ëª¨ë¸ (`l7_bt120_ens`): ì¥ê¸° ë³´ìœ (120ì¼) + í†µí•© ë­í‚¹
  4. BT120 ë¶„ë¦¬ ëª¨ë¸ (`l7_bt120_long`): ì¥ê¸° ë³´ìœ (120ì¼) + ì¥ê¸° ë­í‚¹ë§Œ
- **í¬íŠ¸ ë°°ë¶„**: BT20/BT120 í¬íŠ¸ ìë³¸ ë°°ë¶„ ë¹„ì¤‘ (Î² íŒŒë¼ë¯¸í„°)

### íˆ¬íŠ¸ë™ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ê³µí†µ ë°ì´í„° ì¤€ë¹„ (Shared Data, L0~L4)                  â”‚
â”‚  ì—”íŠ¸ë¦¬í¬ì¸íŠ¸(ê¶Œì¥):                                                      â”‚
â”‚   - src/data_collection/*  (DataCollectionPipeline / collect_all_data)    â”‚
â”‚  ì‚°ì¶œë¬¼ ì €ì¥: LOCAL_TRASH/artifacts_data/data/interim/*.parquet (base pathëŠ” í™•ì¥ì ì—†ì´ ê´€ë¦¬)        â”‚
â”‚   - universe_k200_membership_monthly.parquet                              â”‚
â”‚   - ohlcv_daily.parquet                                                   â”‚
â”‚   - panel_merged_daily.parquet                                            â”‚
â”‚   - dataset_daily.parquet, cv_folds_short.parquet, cv_folds_long.parquet  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Track A (Ranking)      â”‚                   â”‚ Track B (Backtest/Model)   â”‚
â”‚ src/pipeline/track_a_  â”‚                   â”‚ src/pipeline/track_b_      â”‚
â”‚ pipeline.py            â”‚                   â”‚ pipeline.py                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì…ë ¥(ìºì‹œ):            â”‚                   â”‚ ì…ë ¥(ìºì‹œ):                â”‚
â”‚ - panel_merged_daily   â”‚                   â”‚ - universe_k200_*          â”‚
â”‚ - dataset_daily(ì˜µì…˜)  â”‚                   â”‚ - dataset_daily            â”‚
â”‚                        â”‚                   â”‚ - cv_folds_short           â”‚
â”‚ ì²˜ë¦¬:                  â”‚                   â”‚ - ranking_short_daily      â”‚
â”‚ - L8: ë‹¨ê¸°/ì¥ê¸° ë­í‚¹   â”‚                   â”‚ - ranking_long_daily       â”‚
â”‚   (l8_dual_horizon)    â”‚                   â”‚ - ohlcv_daily(êµ­ë©´ ì˜µì…˜)   â”‚
â”‚ - L11: UI payload(ì˜µì…˜)â”‚                   â”‚                            â”‚
â”‚                        â”‚                   â”‚ ì²˜ë¦¬:                      â”‚
â”‚ ì‚°ì¶œë¬¼:                â”‚                   â”‚ - L6R: ë­í‚¹â†’ë¦¬ë°¸ëŸ°ì‹± ìŠ¤ì½”ì–´â”‚
â”‚ - ranking_short_daily  â”‚                   â”‚   (interval ìºì‹œ í‚¤ í¬í•¨)  â”‚
â”‚ - ranking_long_daily   â”‚                   â”‚ - L7: ë°±í…ŒìŠ¤íŠ¸             â”‚
â”‚ - ui_payload(ì˜µì…˜)     â”‚                   â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â†“
                         [UI/ë¦¬í¬íŠ¸/ë¶„ì„ì—ì„œ í™œìš©]
```

### íˆ¬íŠ¸ë™ ì‹¤í–‰ íë¦„

1. **ê³µí†µ ë°ì´í„° ì¤€ë¹„ (L0~L4)**
   Track A/B ëª¨ë‘ `data/interim` ì•„í‹°íŒ©íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.

   - ë°©ë²• A (ê¶Œì¥, ì½”ë“œ íë¦„ ê·¸ëŒ€ë¡œ): `src/data_collection` ì‚¬ìš©

```python
from src.data_collection import DataCollectionPipeline

pipeline = DataCollectionPipeline(
    config_path="configs/config.yaml",
    force_rebuild=False,  # ìºì‹œ ìš°ì„ 
)
pipeline.run_all()  # L0~L4
```

   - ë°©ë²• B (ë ˆê±°ì‹œ, ì „ì²´ ì‹¤í–‰): `scripts/run_pipeline_l0_l7.py`
     - ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” **L0~L7ê¹Œì§€**(ëª¨ë¸ í•™ìŠµ/ë°±í…ŒìŠ¤íŠ¸ í¬í•¨)ë¥¼ í•œ ë²ˆì— ìˆ˜í–‰í•©ë‹ˆë‹¤.

```bash
python scripts/run_pipeline_l0_l7.py
```

2. **Track A ì‹¤í–‰ (ë­í‚¹ ìƒì„±: L8 + ì˜µì…˜ L11)**
   - ì—”íŠ¸ë¦¬í¬ì¸íŠ¸: `src/pipeline/track_a_pipeline.py`
   - ì‚°ì¶œë¬¼(ìºì‹œ): `LOCAL_TRASH/artifacts_data/data/interim/ranking_short_daily.parquet`, `LOCAL_TRASH/artifacts_data/data/interim/ranking_long_daily.parquet`

```bash
python -m src.pipeline.track_a_pipeline
```

3. **Track B ì‹¤í–‰ (íˆ¬ì ëª¨ë¸ ì˜ˆì‹œ: L6R â†’ L7)**
   - ì—”íŠ¸ë¦¬í¬ì¸íŠ¸: `src/pipeline/track_b_pipeline.py`
   - **Track A ì‚°ì¶œë¬¼(ë­í‚¹ 2ê°œ)ì´ ë°˜ë“œì‹œ ì„ í–‰**ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
   - ì‚°ì¶œë¬¼(ìºì‹œ):
     - `LOCAL_TRASH/artifacts_data/data/interim/rebalance_scores_from_ranking_interval_{rebalance_interval}.parquet`
     - `LOCAL_TRASH/artifacts_data/data/interim/bt_metrics_{strategy}.parquet` ë“± (`strategy`: bt20_short/bt20_ens/bt120_long/bt120_ens)

```bash
python -m src.pipeline.track_b_pipeline bt20_short
python -m src.pipeline.track_b_pipeline bt20_ens
python -m src.pipeline.track_b_pipeline bt120_long
python -m src.pipeline.track_b_pipeline bt120_ens
```

4. **(ê¶Œì¥) ì›í´ë¦­: íˆ¬íŠ¸ë™ ì‹¤í–‰ + 06_code22ì— â€œìµœì¢… ì‚°ì¶œë¬¼ë§Œâ€ Export**
   - ì—”íŠ¸ë¦¬í¬ì¸íŠ¸: `src/tools/run_two_track_and_export.py`
   - ë™ì‘:
     - ê³µí†µ(L0~L4) â†’ Track A â†’ Track B(4ì „ëµ) ì‹¤í–‰
     - **Track A ìµœì¢… ì„¤ì • ì ìš©**: ì•™ìƒë¸” ê°€ì¤‘ì¹˜ ìë™ ì ìš©
     - `LOCAL_TRASH/artifacts_data/artifacts/reports/track_b_4strategy_final_summary.md` ìƒì„±
     - `../06_code22/final_outputs/LATEST/`ì— **ìµœì¢… ì‚°ì¶œë¬¼ë§Œ ë³µì‚¬(ê¸°ì¡´ LATESTëŠ” ë¹„ì›€)** + `manifest.json`/`summary.md` ìƒì„±

```bash
python -m src.tools.run_two_track_and_export --export-dest ..\06_code22
```

5. **(ì‹ ê·œ) Track A ìµœì¢… ì„±ê³¼ ê²€ì¦**
   - ì•™ìƒë¸” ê°€ì¤‘ì¹˜ ì ìš©ëœ Track A ì‹¤í–‰
   - bt120_long Sharpe 0.6092 ëª©í‘œ ë‹¬ì„± ê²€ì¦

```bash
# Track A ìµœì¢… ì‹¤í–‰ (ì•™ìƒë¸” ì ìš©)
python -m src.pipeline.track_a_pipeline

# Track B 4ì „ëµ ì‹¤í–‰
python -m src.pipeline.track_b_pipeline bt120_long  # ì£¼ìš” ëª©í‘œ ì „ëµ
```

5. **(ì„ íƒ) 06_code22ë¥¼ â€œìµœì¢… ì‚°ì¶œë¬¼ ì €ì¥ì†Œâ€ë¡œ ì •ë¦¬(ê¸°ì¡´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ëŠ” archiveë¡œ ì´ë™)**
   - ì—”íŠ¸ë¦¬í¬ì¸íŠ¸: `src/tools/cleanup_06_code22_to_outputs_only.py`
   - ë™ì‘: `06_code22/src, data, configs, docs, scripts...` ë“±ì„ ì‚­ì œí•˜ì§€ ì•Šê³  `_archive_pre_outputs_*/`ë¡œ ì´ë™

```bash
python -m src.tools.cleanup_06_code22_to_outputs_only --target ..\06_code22
```

---

## ğŸ“‚ í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° (ìµœì¢… ì •ë¦¬ ì™„ë£Œ)

```
000_code/
â”œâ”€â”€ .github/              # ğŸ”„ CI/CD ì›Œí¬í”Œë¡œìš°
â”œâ”€â”€ configs/              # âš™ï¸ ì„¤ì • íŒŒì¼ë“¤ (74ê°œ YAML)
â”œâ”€â”€ src/                  # ğŸ’» í•µì‹¬ ì†ŒìŠ¤ ì½”ë“œ (199ê°œ Python)
â”œâ”€â”€ scripts/              # ğŸš€ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ë“¤ (290+ê°œ íŒŒì¼)
â”‚   â”œâ”€â”€ run_pipeline_l0_l7.py
â”‚   â”œâ”€â”€ run_multiple_tests.py
â”‚   â””â”€â”€ ë¶„ì„/ì‹¤í—˜ ìŠ¤í¬ë¦½íŠ¸ë“¤
â”œâ”€â”€ data/                 # ğŸ“Š ìƒ˜í”Œ ë°ì´í„° (ì¬í˜„ìš©)
â”‚   â”œâ”€â”€ interim/          # ë°±í…ŒìŠ¤íŠ¸ ì¤‘ê°„ ê²°ê³¼
â”‚   â”œâ”€â”€ external/         # ì™¸ë¶€ ë°ì´í„° ìƒ˜í”Œ
â”‚   â””â”€â”€ sample_data_readme.md  # ë°ì´í„° ì‚¬ìš© ê°€ì´ë“œ
â”œâ”€â”€ tests/                # ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ (9ê°œ íŒŒì¼)
â”œâ”€â”€ docs/                 # ğŸ“š ë¬¸ì„œ íŒŒì¼ë“¤ (41ê°œ íŒŒì¼)
â”‚   â”œâ”€â”€ LOCAL_ì •ë¦¬_ë¡œê·¸.md
â”‚   â”œâ”€â”€ ppt_presentation_final_guide.md
â”‚   â””â”€â”€ í”„ë¡œì íŠ¸ ë¬¸ì„œë“¤
â”œâ”€â”€ LOCAL_TRASH/          # ğŸ—‚ï¸ ì •ë¦¬ëœ íŒŒì¼ë“¤ (1,264+ê°œ)
â”‚   â”œâ”€â”€ binaries/         # ì´ë¯¸ì§€/PDF íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ artifacts_data/   # ë°ì´í„°/ê²°ê³¼ë¬¼ íŒŒì¼ë“¤
â”‚   â”‚   â”œâ”€â”€ data/         # ì „ì²´ ë°ì´í„° (interim, external ë“±)
â”‚   â”‚   â””â”€â”€ artifacts/    # ëª¨ë¸/ë¦¬í¬íŠ¸ íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ legacy_experiments/ # ì‹¤í—˜ ì½”ë“œë“¤
â”‚   â””â”€â”€ caches/           # ìºì‹œ íŒŒì¼ë“¤
â””â”€â”€ í”„ë¡œì íŠ¸ ì„¤ì • íŒŒì¼ë“¤
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ pyproject.toml
    â”œâ”€â”€ pytest.ini
    â”œâ”€â”€ Makefile
    â””â”€â”€ README.md
```

### ğŸ“‹ í´ë” ì„¤ëª…

- **`.github/`**: CI/CD ì›Œí¬í”Œë¡œìš° ë° ìë™í™” ì„¤ì •
- **`configs/`**: ëª¨ë“  YAML ì„¤ì • íŒŒì¼ë“¤ (74ê°œ)
- **`src/`**: Track A/B êµ¬í˜„, ë°ì´í„° íŒŒì´í”„ë¼ì¸, ìœ í‹¸ë¦¬í‹° (199ê°œ Python íŒŒì¼)
- **`data/`**: ìƒ˜í”Œ ë°ì´í„°ì…‹ (ì¬í˜„ì„± í™•ë³´)
  - `interim/`: ë°±í…ŒìŠ¤íŠ¸ ì¤‘ê°„ ê²°ê³¼
  - `external/`: ì™¸ë¶€ ë°ì´í„° ìƒ˜í”Œ (ESG, ì„¹í„° ë“±)
- **`scripts/`**: í”„ë¡œì íŠ¸ ì‹¤í–‰ ë° ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ë“¤ (290+ê°œ íŒŒì¼)
- **`tests/`**: ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ ì½”ë“œ (9ê°œ íŒŒì¼)
- **`docs/`**: ëª¨ë“  ë¬¸ì„œ íŒŒì¼ë“¤ (PPT, ë³´ê³ ì„œ, ì •ë¦¬ ë¡œê·¸ ë“±)
- **`LOCAL_TRASH/`**: ì •ë¦¬ëœ íŒŒì¼ë“¤ ë³´ê´€ (1,264+ê°œ íŒŒì¼)
  - `binaries/`: ì´ë¯¸ì§€/PDF ë“± ë°”ì´ë„ˆë¦¬ íŒŒì¼ë“¤
  - `artifacts_data/`: ë°ì´í„°/ê²°ê³¼ë¬¼ íŒŒì¼ë“¤
  - `legacy_experiments/`: ì‹¤í—˜ ì½”ë“œë“¤
  - `caches/`: ìºì‹œ íŒŒì¼ë“¤
- **í”„ë¡œì íŠ¸ ì„¤ì •**: .gitignore, pyproject.toml, pytest.ini, Makefile ë“±

---

## ì„¤ì¹˜ ë°©ë²•

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
cd 000_code
pip install -r requirements.txt
```

### 2. ì„¤ì • íŒŒì¼ í™•ì¸

`configs/config.yaml` íŒŒì¼ì˜ ê²½ë¡œ ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”:
```yaml
paths:
  base_dir: C:/Users/seong/OneDrive/Desktop/bootcamp/000_code
```

---

## ì‹¤í–‰ ë°©ë²•

### 1ë‹¨ê³„: ê³µí†µ ë°ì´í„° ì¤€ë¹„ (L0~L4)

**âš ï¸ í•„ìˆ˜**: Track Aì™€ Track B ëª¨ë‘ ì‹¤í–‰í•˜ê¸° ì „ì— ê³µí†µ ë°ì´í„°ë¥¼ ë¨¼ì € ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.

**ë‹¨ê³„ë³„ ì„¤ëª…**:
- **L0**: ìœ ë‹ˆë²„ìŠ¤ êµ¬ì„± (KOSPI200 ë©¤ë²„ì‹­)
- **L1**: OHLCV ë°ì´í„° ë‹¤ìš´ë¡œë“œ + ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°
- **L2**: ì¬ë¬´ ë°ì´í„° ë¡œë“œ (DART)
- **L3**: íŒ¨ë„ ë³‘í•© (OHLCV + ì¬ë¬´ + ë‰´ìŠ¤ + ESG)
- **L4**: Walk-Forward CV ë¶„í•  ë° íƒ€ê²Ÿ ìƒì„±

#### ë°©ë²• 1: ìƒˆë¡œìš´ ë°ì´í„° ìˆ˜ì§‘ ëª¨ë“ˆ ì‚¬ìš© (ê¶Œì¥) â­

**ë¦¬íŒ©í† ë§ ì™„ë£Œ**: `src/data_collection` ëª¨ë“ˆì„ í†µí•´ ë°ì´í„° ìˆ˜ì§‘ì´ ì™„ì „íˆ ë¶„ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.

```python
# Pythonì—ì„œ ì§ì ‘ í˜¸ì¶œ
from src.data_collection import collect_all_data

# ì „ì²´ ë°ì´í„° ìˆ˜ì§‘ (L0~L4)
result = collect_all_data(
    config_path="configs/config.yaml",
    force_rebuild=False,  # ìºì‹œ ì‚¬ìš©
)

# ë‹¨ê³„ë³„ ìˆ˜ì§‘
from src.data_collection import (
    collect_universe,
    collect_ohlcv,
    collect_panel,
    collect_dataset,
)

# L0: ìœ ë‹ˆë²„ìŠ¤
universe = collect_universe(
    start_date="2016-01-01",
    end_date="2024-12-31",
    config_path="configs/config.yaml",
)

# L1: OHLCV
ohlcv = collect_ohlcv(
    universe=universe,
    start_date="2016-01-01",
    end_date="2024-12-31",
    config_path="configs/config.yaml",
)

# L3: íŒ¨ë„ ë³‘í•©
panel = collect_panel(
    ohlcv_daily=ohlcv,
    config_path="configs/config.yaml",
)

# L4: CV ë¶„í• 
dataset = collect_dataset(
    panel_merged_daily=panel,
    config_path="configs/config.yaml",
)
```

**íŒŒì´í”„ë¼ì¸ í´ë˜ìŠ¤ ì‚¬ìš©**:

```python
from src.data_collection import DataCollectionPipeline

# íŒŒì´í”„ë¼ì¸ ìƒì„±
pipeline = DataCollectionPipeline(
    config_path="configs/config.yaml",
    force_rebuild=False,
)

# ì „ì²´ ì‹¤í–‰
result = pipeline.run_all()

# ë‹¨ê³„ë³„ ì‹¤í–‰
pipeline.run_l0()  # ìœ ë‹ˆë²„ìŠ¤
pipeline.run_l1()  # OHLCV
pipeline.run_l3()  # íŒ¨ë„ ë³‘í•©
pipeline.run_l4()  # CV ë¶„í• 

# ì•„í‹°íŒ©íŠ¸ ì¡°íšŒ
artifacts = pipeline.get_artifacts()
```

#### ë°©ë²• 2: ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€)

```bash
python scripts/run_pipeline_l0_l7.py
```

ì´ ëª…ë ¹ì€ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:
- **L0**: ìœ ë‹ˆë²„ìŠ¤ êµ¬ì„± (KOSPI200 ë©¤ë²„ì‹­)
- **L1**: OHLCV ë°ì´í„° ë‹¤ìš´ë¡œë“œ + ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°
- **L2**: ì¬ë¬´ ë°ì´í„° ë¡œë“œ (DART)
- **L3**: íŒ¨ë„ ë³‘í•© (OHLCV + ì¬ë¬´ + ë‰´ìŠ¤ + ESG)
- **L4**: Walk-Forward CV ë¶„í•  ë° íƒ€ê²Ÿ ìƒì„±
- **L5**: ëª¨ë¸ í•™ìŠµ (Ridge íšŒê·€, ì„ íƒì )
  - ë‹¨ê¸° ëª¨ë¸: 20ì¼ ìˆ˜ìµë¥  ì˜ˆì¸¡
  - ì¥ê¸° ëª¨ë¸: 120ì¼ ìˆ˜ìµë¥  ì˜ˆì¸¡
- **L6**: ìŠ¤ì½”ì–´ ìƒì„± (ë ˆê±°ì‹œ)
- **L7**: ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰

**ì‚°ì¶œë¬¼**:
- `universe_k200_membership_monthly`: KOSPI200 ë©¤ë²„ì‹­ ì •ë³´
- `ohlcv_daily`: ì¼ë³„ OHLCV ë°ì´í„° + ê¸°ìˆ ì  ì§€í‘œ
- `panel_merged_daily`: ë³‘í•©ëœ íŒ¨ë„ ë°ì´í„°
- `dataset_daily`: CV ë¶„í• ì´ ì™„ë£Œëœ ë°ì´í„°ì…‹
- `pred_short_oos`: ë‹¨ê¸° ëª¨ë¸ ì˜ˆì¸¡ (L5, ì„ íƒì )
- `pred_long_oos`: ì¥ê¸° ëª¨ë¸ ì˜ˆì¸¡ (L5, ì„ íƒì )
- `model_metrics`: ëª¨ë¸ ì„±ëŠ¥ ì§€í‘œ (L5, ì„ íƒì )

**ì°¸ê³ **: ê¸°ì¡´ ë°ì´í„°ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ë©°, ìƒˆë¡œìš´ ë°ì´í„° ìˆ˜ì§‘ ëª¨ë“ˆì€ ê¸°ì¡´ ë°ì´í„°ë¥¼ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.

### 2ë‹¨ê³„: ëª¨ë¸ í•™ìŠµ (L5, ì„ íƒì )

**ëª©ì **: ë‹¨ê¸°(20ì¼) ë° ì¥ê¸°(120ì¼) ìˆ˜ìµë¥  ì˜ˆì¸¡ì„ ìœ„í•œ Ridge íšŒê·€ ëª¨ë¸ í•™ìŠµ

**âš ï¸ ì°¸ê³ **: L5ëŠ” Track Bì—ì„œ ì‚¬ìš©ë˜ì§€ë§Œ, Track Aì—ì„œëŠ” L5ì˜ í”¼ì²˜ ë¦¬ìŠ¤íŠ¸ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤. Track Aë§Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° L5ëŠ” ì„ íƒì ì…ë‹ˆë‹¤.

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤**:
- Track B ë°±í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë ¤ëŠ” ê²½ìš°
- ëª¨ë¸ ì˜ˆì¸¡ ì„±ëŠ¥ì„ í™•ì¸í•˜ê³  ì‹¶ì€ ê²½ìš°

**ì‹¤í–‰ ë°©ë²•**:
```bash
# ë ˆê±°ì‹œ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (L0~L7 ì „ì²´ ì‹¤í–‰)
python scripts/run_pipeline_l0_l7.py

# ë˜ëŠ” Pythonì—ì„œ ì§ì ‘ í˜¸ì¶œ
from src.stages.modeling.l5_train_models import train_oos_predictions
from src.utils.config import load_config
from src.utils.io import load_artifact
from pathlib import Path

cfg = load_config('configs/config.yaml')
interim_dir = Path(get_path(cfg, "data_interim"))

# í•„ìš”í•œ ì•„í‹°íŒ©íŠ¸ ë¡œë“œ
artifacts = {
    "dataset_daily": load_artifact(interim_dir / "dataset_daily"),
    "cv_folds_short": load_artifact(interim_dir / "cv_folds_short"),
    "cv_folds_long": load_artifact(interim_dir / "cv_folds_long"),
}

# L5 ì‹¤í–‰
pred_short, pred_long, metrics = train_oos_predictions(
    cfg=cfg,
    dataset_daily=artifacts["dataset_daily"],
    cv_folds_short=artifacts["cv_folds_short"],
    cv_folds_long=artifacts["cv_folds_long"],
)
```

**ì‹¤í–‰ ë‹¨ê³„**:
1. ê³µí†µ ë°ì´í„° í™•ì¸ (L0~L4 ì‚°ì¶œë¬¼)
2. **L5**: ëª¨ë¸ í•™ìŠµ
   - Walk-Forward CV ê° foldë³„ë¡œ Ridge íšŒê·€ ëª¨ë¸ í•™ìŠµ
   - ë‹¨ê¸° ëª¨ë¸: 20ì¼ ìˆ˜ìµë¥  ì˜ˆì¸¡ (`pred_short_oos`)
   - ì¥ê¸° ëª¨ë¸: 120ì¼ ìˆ˜ìµë¥  ì˜ˆì¸¡ (`pred_long_oos`)
   - ëª¨ë¸ ì„±ëŠ¥ ì§€í‘œ ê³„ì‚° (`model_metrics`)

**ì‚°ì¶œë¬¼**:
- `pred_short_oos`: ë‹¨ê¸° ëª¨ë¸ ì˜ˆì¸¡ (ë‚ ì§œë³„ ì¢…ëª© ì˜ˆì¸¡ê°’)
- `pred_long_oos`: ì¥ê¸° ëª¨ë¸ ì˜ˆì¸¡ (ë‚ ì§œë³„ ì¢…ëª© ì˜ˆì¸¡ê°’)
- `model_metrics`: ëª¨ë¸ ì„±ëŠ¥ ì§€í‘œ (RMSE, IC, Hit Ratio ë“±)

**ì„¤ì • íŒŒì¼**: `configs/config.yaml`ì˜ `l5` ì„¹ì…˜
- `ridge_alpha`: 8.0 (L2 ì •ê·œí™” ê°•ë„)
- `min_feature_ic`: -0.1 (í”¼ì²˜ í•„í„°ë§ ì„ê³„ê°’)
- `feature_list_short`: ë‹¨ê¸° í”¼ì²˜ ë¦¬ìŠ¤íŠ¸ (22ê°œ)
- `feature_list_long`: ì¥ê¸° í”¼ì²˜ ë¦¬ìŠ¤íŠ¸ (19ê°œ)

### 3ë‹¨ê³„: Track A ì‹¤í–‰ (ë­í‚¹ ì—”ì§„)

**ëª©ì **: í”¼ì²˜ ê¸°ë°˜ìœ¼ë¡œ KOSPI200 ì¢…ëª©ì˜ ë­í‚¹ì„ ì‚°ì •í•˜ì—¬ ì´ìš©ìì—ê²Œ ì œê³µ

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤**:
- ë­í‚¹ ì •ë³´ë§Œ í•„ìš”í•œ ê²½ìš°
- UIì—ì„œ ë­í‚¹ì„ í‘œì‹œí•˜ê³  ì´ìš©ìê°€ ì§ì ‘ íˆ¬ì ê²°ì •í•˜ëŠ” ê²½ìš°

```bash
# ë­í‚¹ ì—”ì§„ ì‹¤í–‰
python -m src.pipeline.track_a_pipeline

# ë˜ëŠ” Pythonì—ì„œ ì§ì ‘ í˜¸ì¶œ
from src.pipeline.track_a_pipeline import run_track_a_pipeline
result = run_track_a_pipeline()
```

**ì‹¤í–‰ ë‹¨ê³„**:
1. ê³µí†µ ë°ì´í„° í™•ì¸ (L0~L4 ì‚°ì¶œë¬¼)
2. **L8**: ë­í‚¹ ì—”ì§„ ì‹¤í–‰
   - ë‹¨ê¸° ë­í‚¹ ìƒì„± (`ranking_short_daily`)
   - ì¥ê¸° ë­í‚¹ ìƒì„± (`ranking_long_daily`)
   - L5 í”¼ì²˜ ë¦¬ìŠ¤íŠ¸ ì‚¬ìš© (L8-L5 í”¼ì²˜ì…‹ í†µì¼)
3. **L11**: UI Payload ìƒì„± (ì„ íƒì )

**ì‚°ì¶œë¬¼**:
- `ranking_short_daily`: ë‹¨ê¸° ë­í‚¹ (ë‚ ì§œë³„ ì¢…ëª© ë­í‚¹)
- `ranking_long_daily`: ì¥ê¸° ë­í‚¹ (ë‚ ì§œë³„ ì¢…ëª© ë­í‚¹)
- `ui_payload`: UIì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ë­í‚¹ ë°ì´í„° (ì„ íƒì )

### 4ë‹¨ê³„: Track B ì‹¤í–‰ (íˆ¬ì ëª¨ë¸)

**ëª©ì **: Track Aì—ì„œ ìƒì„±í•œ ë­í‚¹ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ íˆ¬ìëª¨ë¸ ì˜ˆì‹œë¥¼ ë§Œë“¤ì–´ ì´ìš©ìì—ê²Œ ì •ë³´ ì œê³µ

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤**:
- ë­í‚¹ ê¸°ë°˜ íˆ¬ì ì „ëµì˜ ì„±ê³¼ë¥¼ í™•ì¸í•˜ê³  ì‹¶ì€ ê²½ìš°
- ë‹¤ì–‘í•œ íˆ¬ì ëª¨ë¸ ì˜ˆì‹œë¥¼ ì œê³µí•˜ê³  ì‹¶ì€ ê²½ìš°
- ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í†µí•´ íˆ¬ì ì „ëµì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•˜ê³  ì‹¶ì€ ê²½ìš°

**âš ï¸ í•„ìˆ˜ ì¡°ê±´**: Track Aë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ì—¬ ë­í‚¹ ë°ì´í„°ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

#### ë°©ë²• 1: Track B íŒŒì´í”„ë¼ì¸ ì§ì ‘ ì‹¤í–‰ (ê¶Œì¥)

```bash
# Track B íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ (4ê°€ì§€ ì „ëµ ì¤‘ ì„ íƒ)
python -m src.pipeline.track_b_pipeline bt20_short   # BT20 ë‹¨ê¸° ë­í‚¹
python -m src.pipeline.track_b_pipeline bt20_ens     # BT20 í†µí•© ë­í‚¹
python -m src.pipeline.track_b_pipeline bt120_long   # BT120 ì¥ê¸° ë­í‚¹
python -m src.pipeline.track_b_pipeline bt120_ens    # BT120 í†µí•© ë­í‚¹
```

#### ë°©ë²• 2: í¸ì˜ ë˜í¼ ì‚¬ìš©

```bash
# BT20 íŒŒì´í”„ë¼ì¸ (20ì¼ ë³´ìœ  ê¸°ê°„)
python -m src.pipeline.bt20_pipeline short  # ë‹¨ê¸° ë­í‚¹ë§Œ ì‚¬ìš©
python -m src.pipeline.bt20_pipeline ens     # í†µí•© ë­í‚¹ ì‚¬ìš©

# BT120 íŒŒì´í”„ë¼ì¸ (120ì¼ ë³´ìœ  ê¸°ê°„)
python -m src.pipeline.bt120_pipeline long  # ì¥ê¸° ë­í‚¹ë§Œ ì‚¬ìš©
python -m src.pipeline.bt120_pipeline ens   # í†µí•© ë­í‚¹ ì‚¬ìš©
```

#### Pythonì—ì„œ ì§ì ‘ í˜¸ì¶œ

```python
from src.pipeline.track_b_pipeline import run_track_b_pipeline

# BT20 ì „ëµ (ë‹¨ê¸° ë­í‚¹ ì‚¬ìš©)
result_bt20_short = run_track_b_pipeline(strategy="bt20_short")

# BT120 ì „ëµ (ì¥ê¸° ë­í‚¹ ì‚¬ìš©)
result_bt120_long = run_track_b_pipeline(strategy="bt120_long")
```

**ì‹¤í–‰ ë‹¨ê³„**:
1. ê³µí†µ ë°ì´í„° í™•ì¸ (L0~L4 ì‚°ì¶œë¬¼)
2. Track A ì‚°ì¶œë¬¼ í™•ì¸ (`ranking_short_daily`, `ranking_long_daily`)
3. **L6R**: ë­í‚¹ ìŠ¤ì½”ì–´ ë³€í™˜ (ë­í‚¹ â†’ ë°±í…ŒìŠ¤íŠ¸ìš© ìŠ¤ì½”ì–´)
4. **L7**: ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
   - í¬ì§€ì…˜ ìƒì„±
   - ìˆ˜ìµë¥  ê³„ì‚°
   - ì„±ê³¼ ì§€í‘œ ê³„ì‚°

**ì‚°ì¶œë¬¼**:
- `rebalance_scores_from_ranking`: ë­í‚¹ì—ì„œ ë³€í™˜ëœ ìŠ¤ì½”ì–´
- `bt_positions_{strategy}`: í¬ì§€ì…˜ ì •ë³´
- `bt_returns_{strategy}`: ì¼ë³„ ìˆ˜ìµë¥ 
- `bt_equity_curve_{strategy}`: ìì‚° ê³¡ì„ 
- `bt_metrics_{strategy}`: ë°±í…ŒìŠ¤íŠ¸ ì„±ê³¼ ì§€í‘œ (Sharpe, MDD, CAGR ë“±)

---

## ìºì‹œ ìš°ì„  ë¡œì§

íŒŒì´í”„ë¼ì¸ì€ **ìºì‹œ ìš°ì„ ** ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤:
- ì´ë¯¸ ìƒì„±ëœ ì¤‘ê°„ ì‚°ì¶œë¬¼(`data/interim/*.parquet`)ì´ ìˆìœ¼ë©´ ì¬ì‚¬ìš©
- ìºì‹œê°€ ì—†ì„ ë•Œë§Œ í•´ë‹¹ ë‹¨ê³„ë¥¼ ì¬ì‹¤í–‰
- `force_rebuild=True` ì˜µì…˜ìœ¼ë¡œ ìºì‹œ ë¬´ì‹œ ê°€ëŠ¥

---

## UI ì—°ë™

Flask ë“± UI í”„ë ˆì„ì›Œí¬ì—ì„œ ë­í‚¹ê³¼ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ë°ì´í„° ìˆ˜ì§‘ ì¸í„°í˜ì´ìŠ¤ (ë¦¬íŒ©í† ë§ ì™„ë£Œ) â­

**ìƒˆë¡œìš´ UI ì¸í„°í˜ì´ìŠ¤**: `src/data_collection` ëª¨ë“ˆì—ì„œ ê°„ë‹¨í•œ í•¨ìˆ˜ë¡œ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from src.data_collection import (
    get_universe,
    get_ohlcv,
    get_panel,
    get_dataset,
    check_data_availability,
    collect_data_for_ui,
)

# ë°ì´í„° ê°€ìš©ì„± í™•ì¸
available = check_data_availability()
print(available)
# {
#     "universe": True,
#     "ohlcv": True,
#     "fundamentals": False,
#     "panel": True,
#     "dataset": True,
#     ...
# }

# ìœ ë‹ˆë²„ìŠ¤ ì¡°íšŒ
universe = get_universe()

# OHLCV ì¡°íšŒ
ohlcv = get_ohlcv()

# íŒ¨ë„ ì¡°íšŒ
panel = get_panel()

# ë°ì´í„°ì…‹ ì¡°íšŒ
dataset = get_dataset()

# UIìš© í†µí•© ë°ì´í„° ìˆ˜ì§‘
result = collect_data_for_ui()
# {
#     "universe": DataFrame,
#     "ohlcv": DataFrame,
#     "panel": DataFrame,
#     "dataset": DataFrame,
#     "available": Dict[str, bool],
#     ...
# }
```

### Track A: ë­í‚¹ ì¡°íšŒ

```python
from src.interfaces.ui_service import (
    get_short_term_ranking,
    get_long_term_ranking,
    get_combined_ranking,
)

# ë‹¨ê¸° ë­í‚¹ ì¡°íšŒ
short_rankings = get_short_term_ranking("2024-12-31", top_k=20)

# ì¥ê¸° ë­í‚¹ ì¡°íšŒ
long_rankings = get_long_term_ranking("2024-12-31", top_k=20)

# í†µí•© ë­í‚¹ ì¡°íšŒ
combined_rankings = get_combined_ranking("2024-12-31", top_k=20)
```

### Track A: Holdout í•˜ë£¨ Top10 + íŒ©í„°ì…‹(ê·¸ë£¹) Top3 ê¸°ì—¬ë„ (ì„¤ëª…ê°€ëŠ¥ì„±)

íŠ¹ì • ë‚ ì§œ(íŠ¹íˆ Holdout ê¸°ê°„)ì—ì„œ **ì™œ ê·¸ ì¢…ëª©ì´ ìƒìœ„ì— ë­í‚¹ë˜ì—ˆëŠ”ì§€** ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

```python
from src.tracks.track_a.ranking_service import inspect_holdout_day_rankings

out = inspect_holdout_day_rankings(
    as_of="2024-12-30",
    topk=10,
    horizon="both",  # "short" | "long" | "both"
)

# out["short"], out["long"]ì—ëŠ” ì•„ë˜ ì»¬ëŸ¼ì´ í¬í•¨ë©ë‹ˆë‹¤:
# - date, rank_total, ticker, score_total, score_total_calc, score_gap, top_groups
```

CLIë¡œë„ ì‹¤í–‰ ê°€ëŠ¥:

```bash
python scripts/inspect_tracka_holdout_day.py --date 2024-12-30 --topk 10 --horizon both
```

### Track B: íˆ¬ì ëª¨ë¸ ì„±ê³¼ ì¡°íšŒ

```python
from src.utils.io import load_artifact
from pathlib import Path

# ë°±í…ŒìŠ¤íŠ¸ ë©”íŠ¸ë¦­ ë¡œë“œ
bt_metrics = load_artifact(Path("data/interim/bt_metrics_bt20"))
print(bt_metrics[bt_metrics["phase"] == "holdout"])
```

### Flask API ì˜ˆì‹œ

```python
from flask import Flask, jsonify, request
from src.interfaces.ui_service import (
    get_short_term_ranking,
    get_long_term_ranking,
    get_combined_ranking,
)
from src.data_collection import (
    get_universe,
    get_ohlcv,
    get_panel,
    check_data_availability,
)

app = Flask(__name__)

# ë°ì´í„° ìˆ˜ì§‘ API (ë¦¬íŒ©í† ë§ ì™„ë£Œ)
@app.get("/api/data/availability")
def data_availability():
    """ë°ì´í„° ê°€ìš©ì„± í™•ì¸"""
    return jsonify(check_data_availability())

@app.get("/api/data/universe")
def universe_data():
    """ìœ ë‹ˆë²„ìŠ¤ ë°ì´í„° ì¡°íšŒ"""
    df = get_universe()
    return jsonify(df.to_dict(orient="records"))

@app.get("/api/data/ohlcv")
def ohlcv_data():
    """OHLCV ë°ì´í„° ì¡°íšŒ"""
    df = get_ohlcv()
    return jsonify(df.to_dict(orient="records"))

# Track A: ë­í‚¹ API
@app.get("/api/ranking/short")
def short_ranking():
    as_of = request.args.get("as_of", default="2024-12-31")
    top_k = int(request.args.get("top_k", 20))
    return jsonify(get_short_term_ranking(as_of, top_k))

@app.get("/api/ranking/long")
def long_ranking():
    as_of = request.args.get("as_of", default="2024-12-31")
    top_k = int(request.args.get("top_k", 20))
    return jsonify(get_long_term_ranking(as_of, top_k))

@app.get("/api/ranking/combined")
def combined_ranking():
    as_of = request.args.get("as_of", default="2024-12-31")
    top_k = int(request.args.get("top_k", 20))
    return jsonify(get_combined_ranking(as_of, top_k))

# Track B: íˆ¬ì ëª¨ë¸ ì„±ê³¼ API
@app.get("/api/backtest/metrics")
def backtest_metrics():
    strategy = request.args.get("strategy", default="bt20_short")
    # ë°±í…ŒìŠ¤íŠ¸ ë©”íŠ¸ë¦­ ë°˜í™˜
    ...
```

---

## ì„¤ì • íŒŒì¼

`configs/config.yaml`ì—ì„œ ë‹¤ìŒ ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤:

### ê³µí†µ ì„¤ì •

#### L4: Walk-Forward CV ë¶„í• 
```yaml
l4:
  drop_non_universe_before_save: true
  holdout_years: 2
  step_days: 20
  test_window_days: 20
  embargo_days: 20
  horizon_short: 20
  horizon_long: 120
  rolling_train_years_short: 3
  rolling_train_years_long: 5
  inner_cv_k: 5
  market_neutral: false
```

#### L5: ëª¨ë¸ í•™ìŠµ íŒŒë¼ë¯¸í„° (Ridge íšŒê·€ ëª¨ë¸)
```yaml
l5:
  model_type: ridge
  target_transform: cs_rank
  cs_rank_center: true
  ridge_alpha: 8.0  # [ìµœì¢… í”½ìŠ¤ 2026-01-07] L2 ì •ê·œí™” ê°•ë„
  min_feature_ic: -0.1  # [ìµœì¢… í”½ìŠ¤ 2026-01-07] í”¼ì²˜ í•„í„°ë§ ì„ê³„ê°’
  filter_features_by_ic: true
  use_rank_ic: true
  feature_list_short: configs/features_short_v1.yaml  # 22ê°œ í”¼ì²˜
  feature_list_long: configs/features_long_v1.yaml    # 19ê°œ í”¼ì²˜
  feature_weights_config_short: configs/feature_weights_short_hitratio_optimized.yaml
  feature_weights_config_long: configs/feature_weights_long_ic_optimized.yaml
```
- **ì—­í• **: Track Bì—ì„œ ì‚¬ìš© (ë‹¨ê¸°/ì¥ê¸° ìˆ˜ìµë¥  ì˜ˆì¸¡ ëª¨ë¸ í•™ìŠµ)
- **Track Aì™€ì˜ ê´€ê³„**: Track AëŠ” L5ì˜ í”¼ì²˜ ë¦¬ìŠ¤íŠ¸ë§Œ ì‚¬ìš© (ëª¨ë¸ í•™ìŠµì€ ì„ íƒì )

#### L6: ìŠ¤ì½”ì–´ ê²°í•© ê°€ì¤‘ì¹˜
```yaml
l6:
  weight_short: 0.5
  weight_long: 0.5
  invert_score_sign: false
```

### Track A ì„¤ì •

#### L8: ë­í‚¹ ì—”ì§„ ì„¤ì •
```yaml
l8_short:
  normalization_method: zscore  # [ìµœì¢… í”½ìŠ¤ 2026-01-07] ì •ê·œí™” ë°©ë²•
  feature_groups_config: configs/feature_groups_short.yaml
  feature_weights_config: configs/feature_weights_short_hitratio_optimized.yaml
  use_sector_relative: true
  sector_col: sector_name

l8_long:
  normalization_method: zscore  # [ìµœì¢… í”½ìŠ¤ 2026-01-07] ì •ê·œí™” ë°©ë²•
  feature_groups_config: configs/feature_groups_long.yaml
  feature_weights_config: configs/feature_weights_long_ic_optimized.yaml
  use_sector_relative: true
  sector_col: sector_name
```

#### L11: UI Payload ì„¤ì •
```yaml
l11:
  top_k: 10
  bottom_k: 10
  top_k_perf: 20
  benchmark_type: universe_mean
  savings_apr: 0.03
```

### Track B ì„¤ì •

#### L6R: ë­í‚¹ ìŠ¤ì½”ì–´ ë³€í™˜ + ì•™ìƒë¸” ê°€ì¤‘ì¹˜ ì„¤ì •
```yaml
l6r:
  alpha_short: 0.5  # ë‹¨ê¸°:ì¥ê¸° ê²°í•© ë¹„ì¤‘ (bt20_ens, bt120_ens)
  alpha_long: null  # ìë™ìœ¼ë¡œ 1-alpha_short

  # [Track A ìµœì¢… ì•™ìƒë¸” ê°€ì¤‘ì¹˜] ê³¼ì í•© ê°œì„ ëœ ìµœì  ê°€ì¤‘ì¹˜
  ensemble_weights:
    short:  # ë‹¨ê¸° ì „ëµ ì•™ìƒë¸” (IC Diff 0.0371, LOW ìœ„í—˜)
      grid: 0.30      # Grid Search: 30%
      ridge: 0.60     # Ridge: 60%
      xgboost: 0.10   # XGBoost: 10%
      rf: 0.00        # Random Forest: 0%
    long:   # ì¥ê¸° ì „ëµ ì•™ìƒë¸” (IC Diff 0.0557, MEDIUM ìœ„í—˜)
      grid: 0.05      # Grid Search: 5%
      ridge: 0.15     # Ridge: 15%
      xgboost: 0.80   # XGBoost: 80%
      rf: 0.00        # Random Forest: 0%

  rebalance_interval: 1  # ê¸°ë³¸ê°’ (ì „ëµë³„ë¡œ ì˜¤ë²„ë¼ì´ë“œ)
  regime_alpha:
    bull_strong: 0.6
    bull_weak: 0.6
    neutral: 0.5
    bear_weak: 0.4
    bear_strong: 0.4
```

#### L7: ë°±í…ŒìŠ¤íŠ¸ ê¸°ë³¸ ì„¤ì •
```yaml
l7:
  holding_days: 20
  top_k: 12
  cost_bps: 10.0
  slippage_bps: 0.0
  buffer_k: 15
  weighting: equal
  score_col: score_ens
  return_col: true_short
  rebalance_interval: 1  # ê¸°ë³¸ê°’ (ì „ëµë³„ë¡œ ì˜¤ë²„ë¼ì´ë“œ)
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.7
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.8
  risk_scaling_neutral_multiplier: 1.0
  risk_scaling_bull_multiplier: 1.0
  regime:
    enabled: true
    lookback_days: 60
    threshold_pct: 0.0
    neutral_band: 0.05
```

#### l7_bt20_ens: BT20 í†µí•© ëª¨ë¸ ì„¤ì •
```yaml
l7_bt20_ens:
  holding_days: 20
  top_k: 15
  cost_bps: 10.0
  slippage_bps: 0.0
  buffer_k: 20
  weighting: softmax
  softmax_temperature: 0.5
  score_col: score_ens  # ë‹¨ê¸°:ì¥ê¸° 5:5 ê²°í•©
  return_col: true_short
  rebalance_interval: 20  # [ì¤‘ìš”] holding_daysì™€ ë™ì¼ (20ì¼ ëª¨ë©˜í…€ ë³¸ì§ˆ ìœ ì§€)
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.7
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.8
  risk_scaling_neutral_multiplier: 1.0
  risk_scaling_bull_multiplier: 1.0
  regime:
    enabled: true
    lookback_days: 60
    threshold_pct: 0.0
    neutral_band: 0.0
    top_k_bull_strong: 10
    top_k_bull_weak: 12
    top_k_bear_strong: 20
    top_k_bear_weak: 20
    top_k_neutral: 20
    exposure_bull_strong: 1.5
    exposure_bull_weak: 1.2
    exposure_bear_strong: 0.6
    exposure_bear_weak: 0.8
    exposure_neutral: 1.0
```

#### l7_bt20_short: BT20 ë¶„ë¦¬ ëª¨ë¸ ì„¤ì •
```yaml
l7_bt20_short:
  holding_days: 20
  top_k: 12
  cost_bps: 10.0
  slippage_bps: 0.0
  buffer_k: 15
  weighting: equal
  score_col: score_total_short  # ë‹¨ê¸° ë­í‚¹ë§Œ ì‚¬ìš©
  return_col: true_short
  rebalance_interval: 20  # [ì¤‘ìš”] holding_daysì™€ ë™ì¼ (20ì¼ ëª¨ë©˜í…€ ë³¸ì§ˆ ìœ ì§€)
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.7
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.8
  risk_scaling_neutral_multiplier: 1.0
  risk_scaling_bull_multiplier: 1.0
  regime:
    enabled: true
    lookback_days: 60
    threshold_pct: 0.0
    neutral_band: 0.0
    top_k_bull_strong: 10
    top_k_bull_weak: 12
    top_k_bear_strong: 20
    top_k_bear_weak: 20
    top_k_neutral: 20
    exposure_bull_strong: 1.5
    exposure_bull_weak: 1.2
    exposure_bear_strong: 0.6
    exposure_bear_weak: 0.8
    exposure_neutral: 1.0
```

#### l7_bt120_ens: BT120 í†µí•© ëª¨ë¸ ì„¤ì • (ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜)
```yaml
l7_bt120_ens:
  holding_days: 20  # [ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜] ì›”ë³„(20ì¼) ê¸°ê°„ìˆ˜ìµë¥ ë¡œ í‰ê°€
  top_k: 20
  cost_bps: 10.0
  slippage_bps: 0.0
  buffer_k: 15
  weighting: equal
  score_col: score_ens  # ë‹¨ê¸°:ì¥ê¸° 5:5 ê²°í•©
  return_col: true_short  # [ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜] ì›”ë³„ PnL(20ì¼ fwd)ë¡œ ê³„ì‚°
  rebalance_interval: 20  # [ì¤‘ìš”] ì›”ë³„ ë¦¬ë°¸ëŸ°ì‹±(ì‹ ê·œ íŠ¸ëœì¹˜ ì¶”ê°€)
  overlapping_tranches_enabled: true  # [í•„ìˆ˜] ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜ ëª¨ë“œ
  tranche_holding_days: 120  # ê° íŠ¸ëœì¹˜ ë³´ìœ  ê¸°ê°„(ìº˜ë¦°ë” day)
  tranche_max_active: 4  # ì›”ë³„ 4íŠ¸ëœì¹˜(ë™ì‹œ ë³´ìœ  ìµœëŒ€ 4ê°œ)
  tranche_allocation_mode: fixed_equal  # ê° íŠ¸ëœì¹˜ì— 1/4 ìë³¸ ê³ ì • ë°°ë¶„
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.6
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.7
  risk_scaling_neutral_multiplier: 0.9
  risk_scaling_bull_multiplier: 1.0
  regime:
    enabled: true
    lookback_days: 60
    threshold_pct: 0.0
    neutral_band: 0.05
    top_k_bull_strong: 12
    top_k_bull_weak: 15
    top_k_bear_strong: 30
    top_k_bear_weak: 30
    top_k_neutral: 20
    exposure_bull_strong: 1.3
    exposure_bull_weak: 1.0
    exposure_bear_strong: 0.7
    exposure_bear_weak: 0.9
    exposure_neutral: 1.0
```

#### l7_bt120_long: BT120 ë¶„ë¦¬ ëª¨ë¸ ì„¤ì • (ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜)
```yaml
l7_bt120_long:
  holding_days: 20  # [ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜] ì›”ë³„(20ì¼) ê¸°ê°„ìˆ˜ìµë¥ ë¡œ í‰ê°€
  top_k: 15
  cost_bps: 10.0
  slippage_bps: 0.0
  buffer_k: 15
  weighting: equal
  score_col: score_total_long  # ì¥ê¸° ë­í‚¹ë§Œ ì‚¬ìš©
  return_col: true_short  # [ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜] ì›”ë³„ PnL(20ì¼ fwd)ë¡œ ê³„ì‚°
  rebalance_interval: 20  # [ì¤‘ìš”] ì›”ë³„ ë¦¬ë°¸ëŸ°ì‹±(ì‹ ê·œ íŠ¸ëœì¹˜ ì¶”ê°€)
  overlapping_tranches_enabled: true  # [í•„ìˆ˜] ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜ ëª¨ë“œ
  tranche_holding_days: 120  # ê° íŠ¸ëœì¹˜ ë³´ìœ  ê¸°ê°„(ìº˜ë¦°ë” day)
  tranche_max_active: 4  # ì›”ë³„ 4íŠ¸ëœì¹˜(ë™ì‹œ ë³´ìœ  ìµœëŒ€ 4ê°œ)
  tranche_allocation_mode: fixed_equal  # ê° íŠ¸ëœì¹˜ì— 1/4 ìë³¸ ê³ ì • ë°°ë¶„
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.6
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.7
  risk_scaling_neutral_multiplier: 0.9
  risk_scaling_bull_multiplier: 1.0
  regime:
    enabled: true
    lookback_days: 60
    threshold_pct: 0.0
    neutral_band: 0.05
    top_k_bull_strong: 12
    top_k_bull_weak: 15
    top_k_bear_strong: 30
    top_k_bear_weak: 30
    top_k_neutral: 20
    exposure_bull_strong: 1.3
    exposure_bull_weak: 1.0
    exposure_bear_strong: 0.7
    exposure_bear_weak: 0.9
    exposure_neutral: 1.0
```

### âš ï¸ ì¤‘ìš” ì„¤ì •ê°’ (2026-01-07 ìµœì¢… í”½ìŠ¤)

#### rebalance_interval ì„¤ì • (í•„ìˆ˜)
- **ëª¨ë“  ì „ëµ**: `rebalance_interval: 20` (holding_daysì™€ ë™ì¼)
- **ë¬¸ì œ**: `rebalance_interval=1`ì´ë©´ ì•ˆ ë¨
  - BT20: 20ì¼ ëª¨ë©˜í…€ â†’ ì›” ëª¨ë©˜í…€ìœ¼ë¡œ ë³€ì§ˆ
  - BT120: íŠ¸ëœì¹˜ íš¨ê³¼ ì†Œì‹¤ (ë§¤ì›” ì™„ì „ êµì²´)
- **ì˜¬ë°”ë¥¸ ì„¤ì •**:
  - `l7_bt20_short`: `rebalance_interval: 20` (ë‹¨ê¸° ë³¸ì§ˆ ìœ ì§€)
  - `l7_bt20_ens`: `rebalance_interval: 20` (ë‹¨ê¸° ë³¸ì§ˆ ìœ ì§€)
  - `l7_bt120_long`: `rebalance_interval: 20` (íŠ¸ëœì¹˜ ì¶”ê°€ ì£¼ê¸°, ì›”ë³„)
  - `l7_bt120_ens`: `rebalance_interval: 20` (íŠ¸ëœì¹˜ ì¶”ê°€ ì£¼ê¸°, ì›”ë³„)

#### ì‹œì¥ êµ­ë©´ ë¶„ë¥˜ ì„¤ì •
- **ë°©ì‹**: ì™¸ë¶€ API í˜¸ì¶œ ì—†ì´ `ohlcv_daily` ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ìë™ ë¶„ë¥˜
- **ì§€í‘œ**: ê°€ê²© ìˆ˜ìµë¥ , ë³€ë™ì„±, ê±°ë˜ëŸ‰ ë³€í™”ìœ¨ì„ ì¢…í•©í•˜ì—¬ Bull/Neutral/Bear íŒë‹¨
- **ê¸°ì¤€**: ê° rebalance ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ lookback ê¸°ê°„ ë™ì•ˆì˜ ì§€í‘œë¥¼ ê³„ì‚°

---

## ì„±ê³¼ ì§€í‘œ

### Track A: ë­í‚¹ í’ˆì§ˆ ì§€í‘œ
- ë­í‚¹ ì¼ê´€ì„±
- í”¼ì²˜ ì¤‘ìš”ë„
- ë­í‚¹ ë¶„í¬ ë¶„ì„

### Track B: ë°±í…ŒìŠ¤íŠ¸ ì„±ê³¼ ì§€í‘œ

**ì‹¤ì œ ì‚°ì¶œ ë°ì´í„°**: `bt_metrics_{strategy}.parquet` íŒŒì¼ì— ì €ì¥ë©ë‹ˆë‹¤.

#### 1. í•µì‹¬ ì„±ê³¼ (Headline Metrics) - âœ… ì‹¤ì œ ì‚°ì¶œë¨

`bt_metrics` íŒŒì¼ì— í¬í•¨ëœ ì§€í‘œ:

| ì§€í‘œëª… | ì»¬ëŸ¼ëª… | ì„¤ëª… | ê³„ì‚° ë°©ì‹ |
|--------|--------|------|-----------|
| **Net Sharpe Ratio** | `net_sharpe` | ë¦¬ìŠ¤í¬ ì¡°ì • ìˆ˜ìµë¥  (ë¹„ìš© ì°¨ê°) | `(í‰ê·  ìˆ˜ìµë¥  / í‘œì¤€í¸ì°¨) * sqrt(252/holding_days)` |
| **Gross Sharpe Ratio** | `gross_sharpe` | ë¦¬ìŠ¤í¬ ì¡°ì • ìˆ˜ìµë¥  (ë¹„ìš© ì°¨ê° ì „) | ë™ì¼ (Gross ìˆ˜ìµë¥  ê¸°ì¤€) |
| **Net Total Return** | `net_total_return` | ë¹„ìš© ì°¨ê° ëˆ„ì  ìˆ˜ìµë¥  | `(ìµœì¢… ìì‚°ê°€ì¹˜ / ì´ˆê¸° ìì‚°ê°€ì¹˜) - 1` |
| **Gross Total Return** | `gross_total_return` | ë¹„ìš© ì°¨ê° ì „ ëˆ„ì  ìˆ˜ìµë¥  | ë™ì¼ (ë¹„ìš© ì°¨ê° ì „) |
| **Net CAGR** | `net_cagr` | ì—°í‰ê·  ë³µë¦¬ ìˆ˜ìµë¥  (ë¹„ìš© ì°¨ê°) | `(ìµœì¢… ìì‚°ê°€ì¹˜ / ì´ˆê¸° ìì‚°ê°€ì¹˜)^(1/ë…„ìˆ˜) - 1` |
| **Gross CAGR** | `gross_cagr` | ì—°í‰ê·  ë³µë¦¬ ìˆ˜ìµë¥  (ë¹„ìš© ì°¨ê° ì „) | ë™ì¼ (Gross ê¸°ì¤€) |
| **Net MDD** | `net_mdd` | ìµœëŒ€ ë‚™í­ (ë¹„ìš© ì°¨ê°) | `min((equity / peak) - 1.0)` |
| **Gross MDD** | `gross_mdd` | ìµœëŒ€ ë‚™í­ (ë¹„ìš© ì°¨ê° ì „) | ë™ì¼ (Gross ê¸°ì¤€) |
| **Net Calmar Ratio** | `net_calmar_ratio` | ìˆ˜ìµì„± / ìµœëŒ€ë‚™í­ (ë¹„ìš© ì°¨ê°) | `CAGR / \|MDD\|` |
| **Gross Calmar Ratio** | `gross_calmar_ratio` | ìˆ˜ìµì„± / ìµœëŒ€ë‚™í­ (ë¹„ìš© ì°¨ê° ì „) | ë™ì¼ (Gross ê¸°ì¤€) |
| **Net Volatility (Annualized)** | `net_vol_ann` | ì—°í™˜ì‚° ë³€ë™ì„± (ë¹„ìš© ì°¨ê°) | `std(ìˆ˜ìµë¥ ) * sqrt(252/holding_days)` |
| **Gross Volatility (Annualized)** | `gross_vol_ann` | ì—°í™˜ì‚° ë³€ë™ì„± (ë¹„ìš© ì°¨ê° ì „) | ë™ì¼ (Gross ê¸°ì¤€) |

**ì¶”ê°€ ë©”íƒ€ë°ì´í„°**:
- `gross_minus_net_total_return_pct`: Grossì™€ Net ì°¨ì´ (ê±°ë˜ë¹„ìš© ì˜í–¥ë„)
- `avg_cost_pct`: í‰ê·  ê±°ë˜ë¹„ìš© (í¼ì„¼íŠ¸)
- `cost_bps`, `cost_bps_used`, `cost_bps_config`: ê±°ë˜ë¹„ìš© ì„¤ì •ê°’
- `date_start`, `date_end`: êµ¬ê°„ ì‹œì‘/ì¢…ë£Œì¼
- `phase`: êµ¬ê°„ êµ¬ë¶„ (`dev` ë˜ëŠ” `holdout`)

#### 2. ìš´ìš© ì•ˆì •ì„± (Operational Viability) - âœ… ì‹¤ì œ ì‚°ì¶œë¨

| ì§€í‘œëª… | ì»¬ëŸ¼ëª… | ì„¤ëª… | ê³„ì‚° ë°©ì‹ |
|--------|--------|------|-----------|
| **Avg Turnover (Oneway)** | `avg_turnover_oneway` | í‰ê·  ì¼ë°© íšŒì „ìœ¨ | `í‰ê· (ë§¤ì¼ í¬íŠ¸í´ë¦¬ì˜¤ ë³€ê²½ ë¹„ìœ¨)` |
| **Net Hit Ratio** | `net_hit_ratio` | ìŠ¹ë¥  (ë¹„ìš© ì°¨ê°) | `(ìˆ˜ìµ > 0ì¸ ë¦¬ë°¸ëŸ°ì‹± ìˆ˜) / ì „ì²´ ë¦¬ë°¸ëŸ°ì‹± ìˆ˜` |
| **Gross Hit Ratio** | `gross_hit_ratio` | ìŠ¹ë¥  (ë¹„ìš© ì°¨ê° ì „) | ë™ì¼ (Gross ê¸°ì¤€) |
| **Net Profit Factor** | `net_profit_factor` | ì´ ì´ìµ / ì´ ì†ì‹¤ (ë¹„ìš© ì°¨ê°) | `sum(ì–‘ìˆ˜ ìˆ˜ìµ) / abs(sum(ìŒìˆ˜ ìˆ˜ìµ))` |
| **Gross Profit Factor** | `gross_profit_factor` | ì´ ì´ìµ / ì´ ì†ì‹¤ (ë¹„ìš© ì°¨ê° ì „) | ë™ì¼ (Gross ê¸°ì¤€) |
| **Avg Trade Duration** | `avg_trade_duration` | í‰ê·  ë³´ìœ  ì¼ìˆ˜ | `í‰ê· (ê° ì¢…ëª©ë³„ ì—°ì† ë³´ìœ  ê¸°ê°„)` |
| **Avg N Tickers** | `avg_n_tickers` | í‰ê·  ë³´ìœ  ì¢…ëª© ìˆ˜ | `í‰ê· (ë§¤ ë¦¬ë°¸ëŸ°ì‹± ì‹œ ë³´ìœ  ì¢…ëª© ìˆ˜)` |
| **N Rebalances** | `n_rebalances` | ë¦¬ë°¸ëŸ°ì‹± íšŸìˆ˜ | ì „ì²´ ë¦¬ë°¸ëŸ°ì‹± ì‹¤í–‰ íšŸìˆ˜ |

**ì¶”ê°€ ë©”íƒ€ë°ì´í„°**:
- `top_k`: ì„ íƒ ì¢…ëª© ìˆ˜
- `holding_days`: ë³´ìœ  ê¸°ê°„ (ì¼)
- `buffer_k`: ë²„í¼ ì¢…ëª© ìˆ˜
- `weighting`: ê°€ì¤‘ì¹˜ ë°©ì‹ (`equal` ë˜ëŠ” `softmax`)

#### ë­í‚¹ì‚°ì •ëª¨ë¸ ìµœì¢… í”½ìŠ¤ (2026-01-07)

**ì •ê·œí™” ë°©ë²• ìµœì í™”** (2026-01-07):
- **ë¹„êµ í…ŒìŠ¤íŠ¸**: percentile, zscore, robust_zscore ë¹„êµ
- **ìµœì¢… ì„ íƒ**: **zscore** (50.28% Hit Ratio, ìµœê³  ì„±ê³¼)
- **ìµœì¢… ì„¤ì •**: `l8_short.normalization_method: zscore`, `l8_long.normalization_method: zscore`

**News í”¼ì²˜ ê°€ì¤‘ì¹˜ ìµœì í™”** (2026-01-07):
- **ë‹¨ê¸° News í”¼ì²˜**: 0.10 (ê° í”¼ì²˜, ì´ 0.40)
- **ì¥ê¸° News í”¼ì²˜**: 0.03 (news_sentiment_ewm20)
- **ë‹¨ê¸° ì „ìš© í”¼ì²˜**: 0.025 (ê° í”¼ì²˜)

**ìµœì¢… Hit Ratio ì„±ê³¼** (2026-01-07):
- **í†µí•© ë­í‚¹**: 49.58% (ì „ì²´), **51.06% (Holdout)** âœ… ëª©í‘œ ë‹¬ì„±
- **ë‹¨ê¸° ë­í‚¹**: 49.28% (ì „ì²´), **50.99% (Holdout)** âœ… ëª©í‘œ ë‹¬ì„±
- **ì¥ê¸° ë­í‚¹**: **50.14% (ì „ì²´)**, **51.00% (Holdout)** âœ… ëª©í‘œ ë‹¬ì„±
- **ê³¼ì í•©**: ì •ìƒ ë²”ìœ„ (Dev-Holdout Gap: -1.90%p, low)

**ìµœì¢… ì„¤ì • í”½ìŠ¤** (2026-01-07):
- ì •ê·œí™” ë°©ë²•: `zscore` (í”½ìŠ¤)
- `ridge_alpha`: 8.0 (í”½ìŠ¤)
- `min_feature_ic`: -0.1 (í”½ìŠ¤)
- ë‹¨ê¸° News í”¼ì²˜ ê°€ì¤‘ì¹˜: 0.10 (í”½ìŠ¤)
- ì¥ê¸° News í”¼ì²˜ ê°€ì¤‘ì¹˜: 0.03 (í”½ìŠ¤)
- L8-L5 í”¼ì²˜ì…‹ í†µì¼: 22ê°œ/19ê°œ (í”½ìŠ¤)

**ìƒì„¸ ë¦¬í¬íŠ¸**: `LOCAL_TRASH/artifacts_data/artifacts/reports/normalization_method_comparison_and_final_results.md`

#### ìµœì¢… ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ (2026-01-07 ì‹¤í–‰, ê±°ë˜ë¹„ìš©/AlphaQuality/ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜ ë°˜ì˜)

**í•µì‹¬ ë°˜ì˜ ì‚¬í•­** (2026-01-07):
- **[ê°œì„ ì•ˆ 1ë²ˆ] ê±°ë˜ë¹„ìš© ëª¨ë¸ ì •ìƒí™”(í„´ì˜¤ë²„ ê¸°ë°˜)**: ê³ ì • 10bp ì°¨ê°ì´ ì•„ë‹Œ `turnover_oneway * (cost_bps + slippage_bps)` ë°©ì‹ìœ¼ë¡œ ë¹„ìš© ì°¨ê°
- **[ê°œì„ ì•ˆ 34ë²ˆ] Alpha Quality ì§€í‘œ ì¶”ê°€**: `IC`, `Rank IC`, `ICIR`, `Rank ICIR`, `Long/Short Alpha(ann)`ê°€ `bt_metrics_{strategy}`ì— í¬í•¨
- **[ê°œì„ ì•ˆ 36ë²ˆ] ì˜¤ë²„ë˜í•‘ íŠ¸ëœì¹˜(í•„ìˆ˜)**: BT120ì— ì›”ë³„ 4íŠ¸ëœì¹˜ ë„ì…
  - ë§¤ 20ì¼ë§ˆë‹¤ ì‹ ê·œ íŠ¸ëœì¹˜ 1ê°œ ì¶”ê°€(ì›”ë³„), íŠ¸ëœì¹˜ ë§Œê¸°ëŠ” 120ì¼(ìº˜ë¦°ë” day), ë™ì‹œ ë³´ìœ  ìµœëŒ€ 4ê°œ
  - ê²°ê³¼ì ìœ¼ë¡œ BT120ë„ **Holdout ë¦¬ë°¸ëŸ°ì‹± ìˆ˜ê°€ 3íšŒ â†’ 23íšŒë¡œ ì¦ê°€**í•˜ì—¬ íƒ€ì´ë° ëŸ­ì´ í¬ê²Œ ê°ì†Œ
- **rebalance_interval ì²˜ë¦¬ ì¼ì›í™”**: L6Rì—ì„œ intervalë³„ `rebalance_scores_from_ranking_interval_{N}` ìƒì„±, L7ì€ ì¶”ê°€ í•„í„°ë§ ì—†ìŒ

**Ridge Alpha ìµœì í™”** (2026-01-06):
- **ìµœì í™” ë°©ë²•**: Grid Search (Ridge Alpha: [0.01, 0.1, 0.3, 0.5, 1.0, 3.0, 5.0, 10.0])
- **ìµœì í™” ëª©í‘œ**: BT20 (Total Return ì¤‘ì‹¬), BT120 (Sharpe ì§€ìˆ˜ ì¤‘ì‹¬)
- **ìµœì í™” ê²°ê³¼**: ëª¨ë“  ì „ëµì´ ë­í‚¹ ê¸°ë°˜ì´ë¯€ë¡œ ridge_alpha ê°’ì´ ì„±ê³¼ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ (ì •ìƒ ë™ì‘)
- **ìš´ì˜ ì„¤ì •**: `configs/config.yaml`ì˜ `l5.ridge_alpha`ë¥¼ ìœ ì§€ (í˜„ì¬ **8.0**, 2026-01-07 ìµœì¢… í”½ìŠ¤)
- **ìƒì„¸ ë¦¬í¬íŠ¸**: `LOCAL_TRASH/artifacts_data/artifacts/reports/FINAL_RIDGE_ALPHA_OPTIMIZATION_REPORT.md`

**ì™„ì „ êµì²´ ì „ëµ + top_k ìµœì í™”** (2026-01-06):
- **ì‹¤í—˜ ì¡°ê±´**: ì™„ì „ êµì²´ ì „ëµ (rebalance_interval=holding_days, buffer_k=0)
  - Day1: top_k ë§¤ìˆ˜ â†’ Day20: ì „ëŸ‰ ë§¤ë„ â†’ Day20 top_k ì¬ë§¤ìˆ˜ (ë§¤ë²ˆ 100% êµì²´)
- **ìµœì í™” ê²°ê³¼**: top_k=15ì´ Holdout êµ¬ê°„ì—ì„œ ìµœê³  ì„±ê³¼
  - Holdout Total Return: **12.39%** (ìµœê³ )
  - Holdout Sharpe: **0.5464** (ìµœê³ )
  - Holdout CAGR: **6.69%** (ìµœê³ )
- **ë¹„êµ ê²°ê³¼**: top_k=15 > top_k=20 > top_k=10 (Holdout ê¸°ì¤€)
- **ìƒì„¸ ë¦¬í¬íŠ¸**: `LOCAL_TRASH/artifacts_data/artifacts/reports/full_replacement_topk_optimization_report.md`

**ê°€ì¤‘ì¹˜ ë°©ì‹(equal vs softmax) ë¹„êµ ìµœì í™”** (2026-01-06):
- **ì‹¤í—˜ ì¡°ê±´**: 4ê°€ì§€ ì „ëµ ëª¨ë‘ì— ëŒ€í•´ equalê³¼ softmax ë¹„êµ
- **ìµœì í™” ê²°ê³¼**: **ëª¨ë“  ì „ëµì—ì„œ equalì´ softmaxë³´ë‹¤ ìš°ìˆ˜**
  - bt20_short: equal (4.90%) > softmax (2.98%) - ì°¨ì´ 39.09%
  - bt20_ens: equal (6.00%) > softmax (1.85%) - ì°¨ì´ 69.13%
  - bt120_long: equal (2.88%) > softmax (1.19%) - ì°¨ì´ 58.54%
  - bt120_ens: equal (4.03%) > softmax (2.69%) - ì°¨ì´ 33.15%
- **ê¶Œì¥ì‚¬í•­**: ëª¨ë“  ì „ëµì—ì„œ `weighting: equal` ì‚¬ìš© ê¶Œì¥
- **ìƒì„¸ ë¦¬í¬íŠ¸**: `LOCAL_TRASH/artifacts_data/artifacts/reports/weighting_comparison_optimization_report.md`

**4ê°€ì§€ ì „ëµì˜ ìµœì¢… Holdout êµ¬ê°„ ì„±ê³¼ (2026-01-09, Track A ì•™ìƒë¸” ì ìš©)**:

| ì „ëµ | Net Sharpe | Net CAGR | Net MDD | Calmar Ratio | Hit Ratio | ë¦¬ë°¸ëŸ°ì‹± ìˆ˜ |
|------|------------|----------|---------|--------------|-----------|------------|
| **bt120_long** | **0.6092** â­ | **7.61%** | **-5.90%** | **1.2893** | **60.87%** | 23 |
| **bt20_ens** | **0.6138** | **8.44%** | **-8.13%** | **1.0384** | **52.17%** | 23 |
| **bt20_short** | **0.5934** | **8.04%** | **-6.29%** | **1.2778** | **52.17%** | 23 |
| **bt120_ens** | **0.5677** | **6.67%** | **-5.45%** | **1.2244** | **60.87%** | 23 |

**ğŸ† ìµœì¢… ì„±ê³¼ ìš”ì•½**:
- **bt120_long Sharpe 0.6092**: ëª©í‘œ 0.6+ ì´ˆê³¼ ë‹¬ì„± âœ…
- **ì•ˆì •ì  ìˆ˜ìµë¥ **: CAGR 7.61%, MDD -5.90% âœ…
- **ë†’ì€ ìŠ¹ë¥ **: Hit Ratio 60.87% âœ…
- **ì•™ìƒë¸” íš¨ê³¼**: ê³¼ì í•© LOW-MEDIUM ë“±ê¸‰ ê´€ë¦¬ âœ…

**ì£¼ìš” íŠ¹ì§•**:
- **Track A ì•™ìƒë¸” ì ìš©**: 4ê°œ ëª¨ë¸ì˜ ê°•ì  ê²°í•©ìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´
- **ê³¼ì í•© ë°©ì§€**: IC Diff 92%+ ê°ì†Œë¡œ ì¼ë°˜í™” ì„±ëŠ¥ í–¥ìƒ
- `bt_metrics_{strategy}`ì— AlphaQuality(IC/ICIR/Long-Short Alpha) í¬í•¨

**ì°¸ê³ **: ëª¨ë“  ì§€í‘œëŠ” ê±°ë˜ë¹„ìš©(cost_bps=10.0)ì„ ë°˜ì˜í•œ Net ì§€í‘œì´ë©°, ì‹œì¥ êµ­ë©´ ê¸°ëŠ¥ì€ ì™¸ë¶€ API ì—†ì´ ohlcv_daily ë°ì´í„°ë¡œ ìë™ ë¶„ë¥˜ë©ë‹ˆë‹¤.

**ì°¸ê³ **:
- ëª¨ë“  ì§€í‘œëŠ” `phase` ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ê°„ë³„(`dev`/`holdout`) êµ¬ë¶„ë©ë‹ˆë‹¤.
- Gross ì§€í‘œëŠ” ê±°ë˜ë¹„ìš© ì°¨ê° ì „ ì„±ê³¼ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- Net ì§€í‘œëŠ” ê±°ë˜ë¹„ìš© ì°¨ê° í›„ ì‹¤ì œ ìˆ˜ìµì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

#### ë°ì´í„° íŒŒì¼ ìœ„ì¹˜(ì£¼ìš”)

ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œ ë‹¤ìŒ íŒŒì¼ë“¤ì´ ìƒì„±ë©ë‹ˆë‹¤:

```
LOCAL_TRASH/artifacts_data/data/interim/
â”œâ”€â”€ bt_metrics_{strategy}.parquet          # ë°±í…ŒìŠ¤íŠ¸ ì„±ê³¼ ì§€í‘œ (ë©”ì¸)
â”œâ”€â”€ bt_positions_{strategy}.parquet        # í¬ì§€ì…˜ ì •ë³´
â”œâ”€â”€ bt_returns_{strategy}.parquet          # ì¼ë³„ ìˆ˜ìµë¥ 
â”œâ”€â”€ bt_equity_curve_{strategy}.parquet     # ìì‚° ê³¡ì„ 
â”œâ”€â”€ bt_regime_metrics_{strategy}.parquet   # êµ­ë©´ë³„ ì„±ê³¼ (ì¡°ê±´ë¶€)
â”œâ”€â”€ bt_selection_diagnostics_{strategy}.parquet  # [ê°œì„ ì•ˆ 28ë²ˆ] ì„ íƒ ì§„ë‹¨ ì •ë³´
â”œâ”€â”€ bt_returns_diagnostics_{strategy}.parquet    # [ê°œì„ ì•ˆ 28ë²ˆ] ìˆ˜ìµë¥  ì§„ë‹¨ ì •ë³´(regime/exposure ë“±)
â””â”€â”€ bt_runtime_profile_{strategy}.parquet         # [ê°œì„ ì•ˆ 28ë²ˆ] ëŸ°íƒ€ì„ í”„ë¡œíŒŒì¼
```

---

## íˆ¬íŠ¸ë™ í™œìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë­í‚¹ë§Œ ì œê³µ (Track Aë§Œ ì‚¬ìš©)

**ëª©ì **: ì´ìš©ìì—ê²Œ ì¢…ëª© ë­í‚¹ ì •ë³´ë§Œ ì œê³µí•˜ê³ , ì´ìš©ìê°€ ì§ì ‘ íˆ¬ì ê²°ì •

**ì‹¤í–‰ ìˆœì„œ**:
1. ê³µí†µ ë°ì´í„° ì¤€ë¹„: `python scripts/run_pipeline_l0_l7.py`
2. Track A ì‹¤í–‰: `python -m src.pipeline.track_a_pipeline`
3. UIì—ì„œ ë­í‚¹ í‘œì‹œ (ë‹¨ê¸°/ì¥ê¸°/í†µí•© ë­í‚¹)
4. ì´ìš©ìê°€ ë­í‚¹ì„ ì°¸ê³ í•˜ì—¬ ì§ì ‘ íˆ¬ì ê²°ì •

**ì ìš© ì‚¬ë¡€**:
- ë­í‚¹ ê¸°ë°˜ ì¢…ëª© ì¶”ì²œ ì„œë¹„ìŠ¤
- íˆ¬ì ì •ë³´ ì œê³µ í”Œë«í¼

### ì‹œë‚˜ë¦¬ì˜¤ 2: íˆ¬ì ëª¨ë¸ ì˜ˆì‹œ ì œê³µ (Track A + Track B)

**ëª©ì **: ë­í‚¹ê³¼ í•¨ê»˜ ë‹¤ì–‘í•œ íˆ¬ì ëª¨ë¸ì˜ ì„±ê³¼ ì˜ˆì‹œë¥¼ ì œê³µí•˜ì—¬ ì´ìš©ìì˜ íˆ¬ì ê²°ì • ì§€ì›

**ì‹¤í–‰ ìˆœì„œ**:
1. ê³µí†µ ë°ì´í„° ì¤€ë¹„: `python scripts/run_pipeline_l0_l7.py`
2. Track A ì‹¤í–‰: `python -m src.pipeline.track_a_pipeline`
3. Track B ì‹¤í–‰: `python -m src.pipeline.track_b_pipeline bt20_short` (ì›í•˜ëŠ” ì „ëµ ì„ íƒ)
4. UIì—ì„œ ë­í‚¹ + íˆ¬ì ëª¨ë¸ ì„±ê³¼ í‘œì‹œ
5. ì´ìš©ìê°€ ë­í‚¹ê³¼ ì„±ê³¼ë¥¼ í•¨ê»˜ ì°¸ê³ í•˜ì—¬ íˆ¬ì ê²°ì •

**ì ìš© ì‚¬ë¡€**:
- ë­í‚¹ ê¸°ë°˜ í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ì²œ ì„œë¹„ìŠ¤
- ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í¬í•¨í•œ íˆ¬ì ì „ëµ ì œì•ˆ

### ì‹œë‚˜ë¦¬ì˜¤ 3: í†µí•© ì œê³µ (Track A + Track B ëª¨ë“  ì „ëµ)

**ëª©ì **: ë­í‚¹ê³¼ ë‹¤ì–‘í•œ íˆ¬ì ëª¨ë¸ ì˜ˆì‹œë¥¼ ëª¨ë‘ ì œê³µí•˜ì—¬ ì´ìš©ìê°€ ìì‹ ì˜ íˆ¬ì ì„±í–¥ì— ë§ëŠ” ëª¨ë¸ ì„ íƒ

**ì‹¤í–‰ ìˆœì„œ**:
1. ê³µí†µ ë°ì´í„° ì¤€ë¹„: `python scripts/run_pipeline_l0_l7.py`
2. Track A ì‹¤í–‰: `python -m src.pipeline.track_a_pipeline`
3. Track B ì‹¤í–‰ (ëª¨ë“  ì „ëµ):
   ```bash
   python -m src.pipeline.track_b_pipeline bt20_short
   python -m src.pipeline.track_b_pipeline bt20_ens
   python -m src.pipeline.track_b_pipeline bt120_long
   python -m src.pipeline.track_b_pipeline bt120_ens
   ```
4. UIì—ì„œ ë­í‚¹ê³¼ ëª¨ë“  íˆ¬ì ëª¨ë¸ ì„±ê³¼ í‘œì‹œ
5. ì´ìš©ìê°€ ìì‹ ì˜ íˆ¬ì ì„±í–¥ì— ë§ëŠ” ëª¨ë¸ ì„ íƒ

**ì ìš© ì‚¬ë¡€**:
- ì¢…í•© íˆ¬ì í”Œë«í¼
- ë‹¤ì–‘í•œ íˆ¬ì ì „ëµ ë¹„êµ ì„œë¹„ìŠ¤

---

## ì°¸ê³  ë¬¸ì„œ

### í•µì‹¬ ê°œë…
- `docs/TWO_TRACK_ARCHITECTURE.md`: íˆ¬íŠ¸ë™ ì•„í‚¤í…ì²˜ ê°€ì´ë“œ â­ **ìƒˆë¡œ ì‘ì„±ë¨**
- `TECH_REPORT_TRACK1_RANKING.md`: Track A ê¸°ìˆ  ë³´ê³ ì„œ â­ **ìµœìƒë‹¨ìœ¼ë¡œ ì´ë™**
- `TECH_REPORT_TRACK2_BACKTEST.md`: Track B ê¸°ìˆ  ë³´ê³ ì„œ â­ **ìµœìƒë‹¨ìœ¼ë¡œ ì´ë™**
- `EASY_TECH_REPORT_FOR_NON_FINANCE.md`: ë¹„ê¸ˆìœµì¸ì„ ìœ„í•œ í†µí•© ê¸°ìˆ  ë³´ê³ ì„œ â­ **ìµœìƒë‹¨ìœ¼ë¡œ ì´ë™**
- `DUAL_HORIZON_MODEL_RANKING_UI_NOTES.md`: BT20/BT120 ê°œë… ìƒì„¸ ì„¤ëª…
- `docs/TRACK_DEFINITION.md`: Track A/B ì •ì˜ ë° êµ¬ì¡°

### ìµœì¢… ë¦¬í¬íŠ¸
- `LOCAL_TRASH/artifacts_data/artifacts/reports/FINAL_CONFIG_DETERMINATION_REPORT.md`: ìµœì¢… ì„¤ì • í™•ì • ë¦¬í¬íŠ¸
- `LOCAL_TRASH/artifacts_data/artifacts/reports/FINAL_RANKING_STRATEGY_COMPARISON_REPORT.md`: ë­í‚¹ ì „ëµ ë¹„êµ ë¦¬í¬íŠ¸
- `LOCAL_TRASH/artifacts_data/artifacts/reports/FINAL_METRICS_COMPREHENSIVE_REPORT.md`: ìµœì¢… ì„±ê³¼ ë¦¬í¬íŠ¸

### ë¦¬íŒ©í„°ë§ ë¬¸ì„œ
- `REFACTORING_DESIGN.md`: ë¦¬íŒ©í„°ë§ ì„¤ê³„ ë¬¸ì„œ
- `PROJECT_CLEANUP_COMPLETE.md`: í”„ë¡œì íŠ¸ ì •ë¦¬ ì™„ë£Œ ë³´ê³ ì„œ

### ë°ì´í„° ìˆ˜ì§‘ ëª¨ë“ˆ (ë¦¬íŒ©í† ë§ ì™„ë£Œ) â­
- `src/data_collection/`: ë°ì´í„° ìˆ˜ì§‘ ì™„ì „ ë¶„ë¦¬ ëª¨ë“ˆ
  - **1ë‹¨ê³„**: ë°ì´í„° ìˆ˜ì§‘ ì™„ì „ ë¶„ë¦¬ (ê¸°ì¡´ ë°ì´í„° ê·¸ëŒ€ë¡œ ìœ ì§€)
  - **2ë‹¨ê³„**: í•¨ìˆ˜/ëª¨ë“ˆí™” (UIì—ì„œ import ê°€ëŠ¥í•œ í˜•íƒœ)
  - **3ë‹¨ê³„**: íŒŒì´í”„ë¼ì¸ ì¬ì¡°ë¦½ (ì¬í˜„ì„± + ì‹¤í–‰ ê°„í¸í™”)

---

## ì¬í˜„ì„±

ë‹¤ë¥¸ ì»´í“¨í„°ì—ì„œë„ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì¬í˜„í•˜ë ¤ë©´:

## ê¸°ë³¸ ì‹¤í–‰ (ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš©)
1. `pip install -r requirements.txt`ë¡œ ì˜ì¡´ì„± ì„¤ì¹˜
2. `configs/config.yaml`ì˜ ê²½ë¡œ ì„¤ì • í™•ì¸
3. ìƒ˜í”Œ ë°ì´í„°ë¡œ ê¸°ë³¸ ì‹¤í–‰: `python scripts/run_pipeline_l0_l7.py`
4. Track A ì‹¤í–‰: `python -m src.pipeline.track_a_pipeline`
5. Track B ì‹¤í–‰: `python -m src.pipeline.track_b_pipeline bt120_long`

## ì „ì²´ ë°ì´í„° ì‹¤í–‰ (ì„ íƒì‚¬í•­)
```bash
# ì¶”ê°€ ë°ì´í„° ë³µì› (ì „ì²´ ì™¸ë¶€ ë°ì´í„°)
cp -r LOCAL_TRASH/artifacts_data/data/external/* data/external/
cp -r LOCAL_TRASH/artifacts_data/data/interim/* data/interim/

# ê·¸ í›„ ìœ„ì˜ ì‹¤í–‰ ë‹¨ê³„ ë°˜ë³µ
```

---

## ğŸ¯ **í”„ë¡œì íŠ¸ ì™„ë£Œ ìƒíƒœ (2026-01-19)**

### âœ… **í”„ë¡œì íŠ¸ ì„±ê³µ ìš”ì•½**
- **Track A (ë­í‚¹ ì—”ì§„ ìµœì í™”)**: âœ… **ì™„ë£Œ**
  - bt120_long Sharpe 0.6092 ë‹¬ì„± (ëª©í‘œ 0.6+ ì´ˆê³¼)
  - 4ê°œ ëª¨ë¸ ì•™ìƒë¸” ìµœì í™” ì™„ë£Œ
  - ê³¼ì í•© ë°©ì§€ ì„±ê³µ (IC Diff 92%+ ê°ì†Œ)
  - ì‹¤ì „ ì ìš© ì¤€ë¹„ ì™„ë£Œ

- **Track B (íˆ¬ì ëª¨ë¸)**: âœ… **ì™„ë£Œ**
  - 4ê°€ì§€ ì „ëµ ë°±í…ŒìŠ¤íŠ¸ ì™„ë£Œ
  - ì•ˆì •ì  ì„±ê³¼ ê²€ì¦ (Sharpe 0.57-0.61)
  - Alpha Quality ì§€í‘œ í¬í•¨

- **í”„ë¡œì íŠ¸ ì •ë¦¬**: âœ… **ì™„ë£Œ**
  - 1,264+ê°œ íŒŒì¼ ì •ë¦¬ ë° ê²©ë¦¬
  - ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ìµœì í™” (183ê°œ â†’ 9ê°œ)
  - LOCAL_TRASH í´ë”ë¥¼ í†µí•œ ì•ˆì „ ë³´ê´€
  - ì™„ì „í•œ ëª¨ë“ˆí™” êµ¬ì¡° êµ¬í˜„

### ğŸ“Š **ìµœì¢… ê¶Œì¥ ì‚¬ìš©ë²•**
```bash
# 1. ë°ì´í„° ì¤€ë¹„
python scripts/run_pipeline_l0_l7.py

# 2. Track A ì‹¤í–‰ (ì•™ìƒë¸” ì ìš©)
python -m src.pipeline.track_a_pipeline

# 3. Track B ì‹¤í–‰ (ì£¼ìš” ì „ëµ)
python -m src.pipeline.track_b_pipeline bt120_long

# 4. ê²°ê³¼ í™•ì¸
python scripts/show_backtest_metrics.py
```

### ğŸ–ï¸ **í•µì‹¬ ì„±ê³¼ ì§€í‘œ**
- **Sharpe Ratio**: 0.6092 (ëª©í‘œ ì´ˆê³¼ ë‹¬ì„±)
- **Hit Ratio**: 60.87% (ë†’ì€ ìŠ¹ë¥ )
- **Calmar Ratio**: 1.2893 (ì•ˆì •ì  ìœ„í—˜ ì¡°ì •)
- **ê³¼ì í•© ìœ„í—˜**: LOW-MEDIUM (ê´€ë¦¬ ê°€ëŠ¥)

### ğŸ“ **ìµœì¢… ì‚°ì¶œë¬¼**
- `data/interim/bt_metrics_bt120_long.csv` - ì£¼ìš” ì „ëµ ì„±ê³¼ (ìƒ˜í”Œ)
- `data/kospi200_benchmark_cumulative_returns.csv` - ë²¤ì¹˜ë§ˆí¬ ë°ì´í„°
- `data/external/sector_map.csv` - ì„¹í„° ë¶„ë¥˜ ë°ì´í„°
- `docs/LOCAL_ì •ë¦¬_ë¡œê·¸.md` - í”„ë¡œì íŠ¸ ì •ë¦¬ ë³´ê³ ì„œ

> **ì°¸ê³ **: ì „ì²´ ë°ì´í„°ëŠ” `LOCAL_TRASH/artifacts_data/`ì— ë³´ê´€ë˜ì–´ ìˆìœ¼ë©°, í•„ìš”ì‹œ ë³µì›í•˜ì—¬ ì‚¬ìš©

### ğŸ”’ **í”„ë¡œì íŠ¸ ìµœì¢… ìƒíƒœ ê³ ì •**
**ë³¸ í”„ë¡œì íŠ¸ëŠ” 2026-01-19ì— ìµœì¢… ì™„ë£Œë˜ì—ˆìœ¼ë©°, ì´í›„ ë³€ê²½ì‚¬í•­ì€ ì—†ìŠµë‹ˆë‹¤.**
- ëª¨ë“  ê°œë°œ ì‘ì—… ì™„ë£Œ
- ì½”ë“œ ì •ë¦¬ ë° ìµœì í™” ì™„ë£Œ
- ë¬¸ì„œí™” ì™„ì „ ì™„ë£Œ
- LOCAL_TRASHë¥¼ í†µí•œ íŒŒì¼ ë³´ê´€ìœ¼ë¡œ ì¬í˜„ì„± ìœ ì§€

---

## ë¼ì´ì„ ìŠ¤

ë³¸ í”„ë¡œì íŠ¸ëŠ” í¬íŠ¸í´ë¦¬ì˜¤ ëª©ì ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
