# Hit Ratio 최적화 적용 리포트

생성일: 2026-01-06

## 1. 적용된 최적화

### 1.1 피쳐 가중치 재조정
- **파일**: `configs/feature_weights_short_hitratio_optimized.yaml`
- **변경사항**:
  - Technical: 0.60 → 0.50 (과적합 유발 피쳐 축소)
  - Value: 0.15 → 0.20 (재무 지표 강화)
  - Profitability: 0.10 → 0.15 (수익성 지표 강화)

### 1.2 정규화 강화
- **ridge_alpha**: 0.5 → 0.8
- **목적**: 과적합 감소

### 1.3 피쳐 필터링 활성화
- **filter_features_by_ic**: false → true
- **min_feature_ic**: 0.0 → 0.01
- **목적**: IC 낮은 피쳐 제거

## 2. 적용 결과

### BT20_SHORT 성과 비교

| 지표 | 최적화 전 | 최적화 후 | 변화 |
|------|-----------|-----------|------|
| **Dev Hit Ratio** | 57.32% | 57.32% | 0.00%p |
| **Holdout Hit Ratio** | 43.48% | 43.48% | 0.00%p |
| **과적합** | 13.84% | 13.84% | 0.00%p |
| Sharpe (Holdout) | 0.5907 | 0.5907 | 0.0000 |
| CAGR (Holdout) | 11.25% | 11.25% | 0.00%p |

**결과**: ❌ 변경 없음

## 3. 원인 분석

### 3.1 가능한 원인

1. **피쳐 필터링 미작동**
   - IC 파일이 없거나
   - 모든 피쳐의 IC가 0.01 이상일 수 있음

2. **가중치 적용 방식의 한계**
   - 피쳐 값에 가중치를 곱한 후 StandardScaler 적용
   - StandardScaler가 가중치 효과를 상쇄했을 가능성

3. **과적합의 근본 원인**
   - Technical 피쳐 자체의 문제가 아닐 수 있음
   - 데이터 분할, 시간 의존성 등 다른 요인

### 3.2 확인 사항

- ✅ 가중치 파일 로드: 정상 (28개 피쳐)
- ⏳ IC 파일 존재 여부: 확인 필요
- ⏳ 피쳐 필터링 적용 여부: 확인 필요

## 4. 추가 최적화 방안

### 4.1 더 강한 정규화
```yaml
ridge_alpha: 1.5  # 0.8 → 1.5
```

### 4.2 피쳐 필터링 강화
```yaml
min_feature_ic: 0.02  # 0.01 → 0.02
```

### 4.3 교차 검증 개선
```yaml
l4:
  embargo_days: 30  # 20 → 30
```

### 4.4 모델 파라미터 조정
```yaml
l7_bt20_short:
  top_k: 10  # 12 → 10 (더 선택적)
  buffer_k: 20  # 15 → 20 (안정성)
```

## 5. 권장사항

### 즉시 적용 가능
**BT20_ENS 사용**: 
- Holdout Hit Ratio: 52.17% ✅
- 과적합: -0.95% ✅
- 이미 목표 달성

### 추가 최적화 시도
1. IC 파일 생성 및 확인
2. 위의 추가 최적화 방안 순차 적용
3. 각 변경 후 결과 확인

## 6. 결론

최적화를 적용했으나 결과가 동일했습니다. 이는:
- 가중치 적용 방식의 한계
- 피쳐 필터링 미작동 가능성
- 과적합의 다른 근본 원인

을 시사합니다.

**현재 상황**:
- BT20_ENS: 목표 달성 ✅ (권장 사용)
- BT20_SHORT: 추가 최적화 필요 ⚠️

