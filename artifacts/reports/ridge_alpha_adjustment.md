# Ridge Alpha 조정 보고서

**생성일**: 2026-01-08
**목적**: 과적합 위험 감소를 위한 정규화 강화

## 📊 조정 배경

### Dev/Holdout 구간 성과 비교 결과

**단기 랭킹**:
- Grid Dev vs Holdout: ICIR 0.2224 → -0.0057 (크게 저하)
- Rank ICIR: 0.3753 → 0.0439 (크게 저하)
- **과적합 위험도**: HIGH

**장기 랭킹**:
- Grid Dev vs Holdout: ICIR 0.2556 → 0.1831 (저하)
- Rank ICIR: 0.5375 → 0.1977 (크게 저하)
- **과적합 위험도**: HIGH

### 권장사항
- ⚠️ 정규화 강화 (Ridge alpha 증가) **필수**
- 피처 수 감소 또는 피처 선택 강화
- 모델 단순화 검토

---

## 🔧 조정 내용

### 변경 전
```yaml
l5:
  ridge_alpha: 8.0  # [최종 픽스] 8.0 (과적합 방지 강화, Hit Ratio 50% 목표 달성)
```

### 변경 후
```yaml
l5:
  ridge_alpha: 16.0  # [과적합 방지 강화] 8.0 → 16.0 (2026-01-08, Dev/Holdout 비교 결과 HIGH 위험도로 인한 정규화 강화)
```

### 변경 사항
- **이전 값**: 8.0
- **새 값**: 16.0
- **변화율**: +100% (2배 증가)

---

## 📈 Ridge Alpha의 영향

### Ridge 정규화 원리

Ridge 회귀는 L2 정규화를 사용하여 가중치를 제한합니다:

```
Loss = MSE + alpha * ||weights||²
```

- **alpha가 작을 때** (예: 0.1, 1.0):
  - 약한 정규화
  - 복잡한 모델 허용
  - 높은 학습 능력
  - **과적합 위험 높음** ⚠️

- **alpha가 클 때** (예: 10.0, 20.0, 50.0):
  - 강한 정규화
  - 단순한 모델 강제
  - 낮은 학습 능력
  - **과적합 위험 낮음** ✅

### 예상 효과

#### 1. 과적합 감소
- Dev/Holdout 성과 차이 감소 예상
- 일반화 성능 향상

#### 2. 모델 단순화
- 가중치가 0에 가까워지는 피처 증가
- 불필요한 피처 자동 제거 효과

#### 3. 성과 변화
- **Dev 구간**: 성과 약간 저하 가능 (정규화로 인한 학습 능력 감소)
- **Holdout 구간**: 성과 개선 가능 (과적합 감소)
- **Dev/Holdout 차이**: 감소 예상 ✅

---

## 🎯 조정 전략

### 단계적 접근

1. **1단계: 8.0 → 16.0** (현재 적용)
   - 보수적 증가 (2배)
   - 효과 확인 후 추가 조정 가능

2. **2단계: 필요시 16.0 → 24.0 또는 32.0**
   - 1단계 효과가 부족한 경우
   - Dev/Holdout 차이가 여전히 큰 경우

3. **3단계: 균형점 찾기**
   - Dev 성과와 Holdout 성과의 균형
   - 과적합 위험이 LOW가 될 때까지 조정

### 조정 기준

| Dev/Holdout 차이 | 권장 Alpha | 목표 |
|------------------|------------|------|
| HIGH (현재) | 16.0 → 24.0 | 과적합 위험 감소 |
| MEDIUM | 16.0 유지 | 모니터링 |
| LOW | 8.0 ~ 16.0 | 성과 최적화 |

---

## 📋 다음 단계

### 1. 모델 재학습
```bash
# L5 단계 재실행 (Ridge alpha 16.0 적용)
python src/run_all.py  # 전체 파이프라인
# 또는
python src/stages/l5_train_models.py  # L5만 재실행
```

### 2. 성과 재평가
- Dev/Holdout 구간 성과 비교
- 과적합 위험도 재평가
- 성과 변화 확인

### 3. 추가 조정 검토
- Dev/Holdout 차이가 여전히 큰 경우: alpha 추가 증가 (24.0, 32.0)
- 성과가 크게 저하된 경우: alpha 감소 (12.0)
- 균형점 찾기

---

## ⚠️ 주의사항

1. **성과 저하 가능성**
   - 정규화 강화로 인해 Dev 구간 성과가 저하될 수 있음
   - 하지만 Holdout 성과 개선이 더 중요 (일반화 성능)

2. **재학습 필요**
   - Ridge alpha 변경 시 L5 모델 재학습 필수
   - 이후 L6, L7 단계도 재실행 필요

3. **Grid Search 재실행 고려**
   - Ridge alpha 변경 후 모델 성능이 달라짐
   - Grid Search 최적 가중치도 달라질 수 있음
   - 필요시 Grid Search 재실행 검토

---

## 📊 참고 자료

- **Dev/Holdout 비교 보고서**: `artifacts/reports/dev_holdout_final_comparison_20260108_160851.md`
- **과적합 분석 보고서**: `artifacts/reports/grid_search_overfitting_analysis_20260108_155005.md`
- **설정 파일**: `configs/config.yaml` (l5.ridge_alpha)

---

**작성자**: Cursor AI
**최종 업데이트**: 2026-01-08
