paths:
  base_dir: C:/Users/seong/OneDrive/Desktop/bootcamp/03_code
  data_raw: '{base_dir}/data/raw'
  data_ext: '{base_dir}/data/external'
  data_interim: '{base_dir}/data/interim'
  data_processed: '{base_dir}/data/processed'
  artifacts_models: '{base_dir}/artifacts/models'
  artifacts_reports: '{base_dir}/artifacts/reports'
run:
  timezone: Asia/Seoul
  save_formats:
  - parquet
  - csv
  write_meta: true
  fail_on_validation_error: true
  skip_if_exists: false
secrets: null
params:
  start_date: '2016-01-01'
  end_date: '2024-12-31'
  index_code: '1028'
  anchor_ticker: 005930
  fundamental_lag_days: 90
  filter_k200_members_only: false
l2:
  disclosure_lag_days: 1
  fallback_lag_days: 90
l3:
  filter_k200_members_only: true
  fundamentals_effective_date_col: effective_date
news:
  enabled: true
  source_path: data/external/news_sentiment_daily.parquet
  lag_days: 1
  shrink_k: 5
l1b:
  enabled: true
  sleep_sec: 0.1
  log_every: 50
l4:
  drop_non_universe_before_save: true
  holdout_years: 2
  step_days: 20
  test_window_days: 20
  embargo_days: 20
  horizon_short: 20
  horizon_long: 120
  rolling_train_years_short: 3
  rolling_train_years_long: 5
  inner_cv_k: 5
  market_neutral: false
l5:
  model_type: ridge
  target_transform: cs_rank
  cs_rank_center: true
  ridge_alpha: 1.0
  export_feature_importance: true
  metrics_extra:
  - r2_oos
  tune_alpha: false
  alpha_grid:
  - 0.1
  - 0.3
  - 1.0
  - 3.0
  - 10.0
  tune_metric: ic_rank
  alpha_test_mode: false
  alpha_test_values:
  - 0.01
  - 0.1
  - 1.0
  - 10.0
  feature_list_short: configs/features_short_v1.yaml
  feature_list_long: configs/features_long_v1.yaml
  filter_features_by_ic: false
  use_rank_ic: true
  min_feature_ic: 0.0
  feature_ic_file: artifacts/reports/feature_ic_dev.csv
l6:
  weight_short: 0.5
  weight_long: 0.5
  invert_score_sign: false
l7:
  holding_days: 20
  top_k: 12
  cost_bps: 10.0
  buffer_k: 15
  weighting: equal
  score_col: score_ens
  return_col: true_short
  rebalance_interval: 1
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.7
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.8
  risk_scaling_neutral_multiplier: 1.0
  risk_scaling_bull_multiplier: 1.0
  signal_source: model
  ranking_score_source: score_total
  diversify:
    enabled: false
    group_col: sector_name
    max_names_per_group: 4
  regime:
    enabled: true
    lookback_days: 60
    threshold_pct: 0.0
    top_k_bull_strong: 10
    top_k_bull_weak: 12
    top_k_bear_strong: 30
    top_k_bear_weak: 30
    top_k_neutral: 20
    exposure_bull_strong: 1.5
    exposure_bull_weak: 1.2
    exposure_bear_strong: 0.7
    exposure_bear_weak: 0.9
    exposure_neutral: 1.0
    top_k_bull: 15
    top_k_bear: 30
    exposure_bull: 1.0
    exposure_bear: 1.0
l7_bt20_ens:
  holding_days: 20
  top_k: 15
  cost_bps: 10.0
  buffer_k: 20
  weighting: softmax
  softmax_temperature: 0.5
  score_col: score_ens
  return_col: true_short
  rebalance_interval: 1
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.7
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.8
  risk_scaling_neutral_multiplier: 1.0
  risk_scaling_bull_multiplier: 1.0
  signal_source: model
  ranking_score_source: score_total
  diversify:
    enabled: false
    group_col: sector_name
    max_names_per_group: 4
  regime:
    enabled: true  # 외부 API 없이 ohlcv_daily 데이터로 자동 분류
    use_volume: true
    use_volatility: true
    neutral_band: 0.05
    lookback_days: 60
    threshold_pct: 0.0
    top_k_bull_strong: 10
    top_k_bull_weak: 12
    top_k_bear_strong: 30
    top_k_bear_weak: 30
    top_k_neutral: 20
    exposure_bull_strong: 1.5
    exposure_bull_weak: 1.2
    exposure_bear_strong: 0.7
    exposure_bear_weak: 0.9
    exposure_neutral: 1.0
    top_k_bull: 15
    top_k_bear: 30
    exposure_bull: 1.0
    exposure_bear: 1.0
l7_bt20_short:
  holding_days: 20
  top_k: 12
  cost_bps: 10.0
  buffer_k: 15
  weighting: equal
  score_col: score_total_short
  return_col: true_short
  rebalance_interval: 1
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.7
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.8
  risk_scaling_neutral_multiplier: 1.0
  risk_scaling_bull_multiplier: 1.0
  signal_source: model
  ranking_score_source: score_total
  diversify:
    enabled: false
    group_col: sector_name
    max_names_per_group: 4
  regime:
    enabled: true  # 외부 API 없이 ohlcv_daily 데이터로 자동 분류
    use_volume: true
    use_volatility: true
    neutral_band: 0.05
    lookback_days: 60
    threshold_pct: 0.0
    top_k_bull_strong: 10
    top_k_bull_weak: 12
    top_k_bear_strong: 30
    top_k_bear_weak: 30
    top_k_neutral: 20
    exposure_bull_strong: 1.5
    exposure_bull_weak: 1.2
    exposure_bear_strong: 0.7
    exposure_bear_weak: 0.9
    exposure_neutral: 1.0
    top_k_bull: 15
    top_k_bear: 30
    exposure_bull: 1.0
    exposure_bear: 1.0
l7_bt120_ens:
  holding_days: 120
  top_k: 20
  cost_bps: 10.0
  buffer_k: 15
  weighting: equal
  score_col: score_ens
  return_col: true_long
  rebalance_interval: 6
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.6
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.7
  risk_scaling_neutral_multiplier: 0.9
  risk_scaling_bull_multiplier: 1.0
  signal_source: model
  ranking_score_source: score_total
  diversify:
    enabled: false
    group_col: sector_name
    max_names_per_group: 4
  regime:
    enabled: true  # 외부 API 없이 ohlcv_daily 데이터로 자동 분류
    use_volume: true
    use_volatility: true
    neutral_band: 0.05
    lookback_days: 60
    threshold_pct: 0.0
    top_k_bull_strong: 12
    top_k_bull_weak: 15
    top_k_bear_strong: 30
    top_k_bear_weak: 30
    top_k_neutral: 20
    exposure_bull_strong: 1.3
    exposure_bull_weak: 1.0
    exposure_bear_strong: 0.7
    exposure_bear_weak: 0.9
    exposure_neutral: 1.0
    top_k_bull: 15
    top_k_bear: 30
    exposure_bull: 1.0
    exposure_bear: 1.0
l7_bt120_long:
  holding_days: 120
  top_k: 15
  cost_bps: 10.0
  buffer_k: 15
  weighting: equal
  score_col: score_total_long
  return_col: true_long
  rebalance_interval: 6
  smart_buffer_enabled: true
  smart_buffer_stability_threshold: 0.7
  volatility_adjustment_enabled: true
  volatility_lookback_days: 60
  target_volatility: 0.15
  volatility_adjustment_max: 1.2
  volatility_adjustment_min: 0.6
  risk_scaling_enabled: true
  risk_scaling_bear_multiplier: 0.7
  risk_scaling_neutral_multiplier: 0.9
  risk_scaling_bull_multiplier: 1.0
  signal_source: model
  ranking_score_source: score_total
  diversify:
    enabled: false
    group_col: sector_name
    max_names_per_group: 4
  regime:
    enabled: true  # 외부 API 없이 ohlcv_daily 데이터로 자동 분류
    use_volume: true
    use_volatility: true
    neutral_band: 0.05
    lookback_days: 60
    threshold_pct: 0.0
    top_k_bull_strong: 12
    top_k_bull_weak: 15
    top_k_bear_strong: 30
    top_k_bear_weak: 30
    top_k_neutral: 20
    exposure_bull_strong: 1.3
    exposure_bull_weak: 1.0
    exposure_bear_strong: 0.7
    exposure_bear_weak: 0.9
    exposure_neutral: 1.0
    top_k_bull: 15
    top_k_bear: 30
    exposure_bull: 1.0
    exposure_bear: 1.0
l7b:
  top_k_grid:
  - 10
  - 20
  - 30
  cost_bps_grid:
  - 0.0
  - 10.0
  - 20.0
  weighting_grid:
  - equal
  buffer_k_grid:
  - 0
  - 10
  - 20
  - 30
l8:
  normalization_method: percentile
  feature_groups_config: configs/feature_groups.yaml
  feature_weights_config: configs/feature_weights_optimized.yaml
  regime_aware_weights_config: configs/feature_weights_regime_detailed.yaml
  use_sector_relative: true
  sector_col: sector_name
  enforce_group_balance: true
l8_short:
  normalization_method: percentile
  feature_groups_config: configs/feature_groups_short.yaml
  feature_weights_config: configs/feature_weights_short.yaml
  use_sector_relative: true
  sector_col: sector_name
l8_long:
  normalization_method: percentile
  feature_groups_config: configs/feature_groups_long.yaml
  feature_weights_config: configs/feature_weights_long.yaml
  use_sector_relative: true
  sector_col: sector_name
l6r:
  alpha_short: 0.5
  alpha_long: null
  regime_alpha:
    bull_strong: 0.8
    bull_weak: 0.7
    neutral: 0.5
    bear_weak: 0.3
    bear_strong: 0.2
baseline:
  pipeline_baseline_tag: baseline_prerefresh_20251219_143636
  ranking_baseline_tag: null
l11:
  top_k: 10
  bottom_k: 10
  top_k_perf: 20
  benchmark_type: universe_mean
  benchmark_types:
  - universe_mean
  - kospi200
  - savings
  savings_apr: 0.03
l7c:
  benchmark_types:
  - universe_mean
  - kospi200
  - savings
  savings_apr: 0.03
l12: null
leakage_control:
  enable_purge: true
  purge_days_short: 20
  purge_days_long: 120
  enable_embargo: false
  embargo_days: 0
