# μ„¤μ • κ²€μ¦ μ‚¬μ©λ²•

μ΄ λ¬Έμ„λ” μ„¤μ • νμΌμ λ°°μΉ κ²€μ¦ λ„κµ¬ μ‚¬μ©λ²•κ³Ό κ²€μ¦ κ²°κ³Ό ν•΄μ„ λ°©λ²•μ„ μ„¤λ…ν•©λ‹λ‹¤.

## λ©μ°¨

1. [λ°°μΉ κ²€μ¦ μ‹¤ν–‰](#λ°°μΉ-κ²€μ¦-μ‹¤ν–‰)
2. [λ…λ Ήμ–΄ μµμ…](#λ…λ Ήμ–΄-μµμ…)
3. [κ²€μ¦ κ²°κ³Ό ν•΄μ„](#κ²€μ¦-κ²°κ³Ό-ν•΄μ„)
4. [μΌλ°μ μΈ μ—λ¬ μ ν•](#μΌλ°μ μΈ-μ—λ¬-μ ν•)
5. [λ¬Έμ  ν•΄κ²° κ°€μ΄λ“](#λ¬Έμ -ν•΄κ²°-κ°€μ΄λ“)

## λ°°μΉ κ²€μ¦ μ‹¤ν–‰

### κΈ°λ³Έ μ‹¤ν–‰

ν”„λ΅μ νΈ λ£¨νΈμ—μ„ λ‹¤μ λ…λ Ήμ–΄λ΅ λ¨λ“  μ„¤μ • νμΌμ„ κ²€μ¦ν•©λ‹λ‹¤:

```bash
python scripts/μ„¤μ •κ²€μ¦.py
```

### μƒμ„Έ κ²°κ³Ό ν™•μΈ

```bash
python scripts/μ„¤μ •κ²€μ¦.py --verbose
```

### νΉμ • λ””λ ‰ν† λ¦¬ κ²€μ¦

```bash
python scripts/μ„¤μ •κ²€μ¦.py --configs-dir /path/to/configs
```

## λ…λ Ήμ–΄ μµμ…

| μµμ… | μ§§μ€ μµμ… | κΈ°λ³Έκ°’ | μ„¤λ… |
|------|-----------|--------|------|
| `--configs-dir` | - | configs | μ„¤μ • νμΌ λ””λ ‰ν† λ¦¬ κ²½λ΅ |
| `--verbose` | `-v` | False | μƒμ„Έν• κ²€μ¦ κ²°κ³Ό μ¶λ ¥ |
| `--top-errors` | - | 5 | μƒμ„ Nκ° μ—λ¬ μ ν• ν‘μ‹ |

## κ²€μ¦ κ²°κ³Ό ν•΄μ„

### μ„±κ³µ μΌ€μ΄μ¤

```
μ„¤μ • νμΌ κ²€μ¦ μ‹μ‘... (μ΄ 74κ° νμΌ)
==================================================
[1/74] config.yaml κ²€μ¦ μ¤‘...
  β“ μ„±κ³µ
[2/74] optimized_backtest_params.yaml κ²€μ¦ μ¤‘...
  β“ μ„±κ³µ
...
==================================================
κ²€μ¦ κ²°κ³Ό μ”μ•½
==================================================
μ΄ νμΌ μ: 74
μ„±κ³µ: 74
μ‹¤ν¨: 0
μ„±κ³µλ¥ : 100.0%
```

### μ‹¤ν¨ μΌ€μ΄μ¤

```
μ„¤μ • νμΌ κ²€μ¦ μ‹μ‘... (μ΄ 74κ° νμΌ)
==================================================
[1/74] config.yaml κ²€μ¦ μ¤‘...
  β— μ‹¤ν¨
[2/74] optimized_backtest_params.yaml κ²€μ¦ μ¤‘...
  β“ μ„±κ³µ
...
==================================================
κ²€μ¦ κ²°κ³Ό μ”μ•½
==================================================
μ΄ νμΌ μ: 74
μ„±κ³µ: 70
μ‹¤ν¨: 4
μ„±κ³µλ¥ : 94.6%

μ‹¤ν¨ν• νμΌλ“¤ (4κ°):

π“ config.yaml:
  β€Ά ν•„μ ν‚¤ λ„λ½: l7.target_volatility
  β€Ά νƒ€μ… λ¶μΌμΉ: l7.top_k (μμƒ: int, μ‹¤μ : str)

π“ invalid_config.yaml:
  β€Ά μλ»λ λ‚ μ§ ν•μ‹: params.start_date = 2024/01/01 (YYYY-MM-DD ν•„μ”)
```

## μΌλ°μ μΈ μ—λ¬ μ ν•

### 1. ν•„μ ν‚¤ λ„λ½

**μ—λ¬ λ©”μ‹μ§€:** `ν•„μ ν‚¤ λ„λ½: {ν‚¤_κ²½λ΅}`

**μ›μΈ:** ν•„μ μ„¤μ • ν•­λ©μ΄ λ„λ½λ¨

**ν•΄κ²° λ°©λ²•:**
```yaml
# μλ»λ μμ‹
l7:
  cost_bps: 10.0
  # top_k λ„λ½

# μ¬λ°”λ¥Έ μμ‹
l7:
  cost_bps: 10.0
  top_k: 12  # ν•„μ ν‚¤ μ¶”κ°€
```

### 2. νƒ€μ… λ¶μΌμΉ

**μ—λ¬ λ©”μ‹μ§€:** `νƒ€μ… λ¶μΌμΉ: {ν‚¤_κ²½λ΅} (μμƒ: {μμƒ_νƒ€μ…}, μ‹¤μ : {μ‹¤μ _νƒ€μ…})`

**μ›μΈ:** μ„¤μ • κ°’μ νƒ€μ…μ΄ μλ»λ¨

**ν•΄κ²° λ°©λ²•:**
```yaml
# μλ»λ μμ‹
l7:
  top_k: "12"  # λ¬Έμμ—΄

# μ¬λ°”λ¥Έ μμ‹
l7:
  top_k: 12  # μ •μ
```

### 3. λ²”μ„ μ΄κ³Ό

**μ—λ¬ λ©”μ‹μ§€:** `κ°’μ΄ μµμ†κ°’λ³΄λ‹¤ μ‘μ: {ν‚¤_κ²½λ΅} = {κ°’} < {μµμ†κ°’}`

**μ›μΈ:** μ„¤μ • κ°’μ΄ ν—μ© λ²”μ„λ¥Ό λ²—μ–΄λ‚¨

**ν•΄κ²° λ°©λ²•:**
```yaml
# μλ»λ μμ‹
l7:
  top_k: 0  # 1-50 λ²”μ„ μ„λ°

# μ¬λ°”λ¥Έ μμ‹
l7:
  top_k: 12  # λ²”μ„ λ‚΄ κ°’
```

### 4. λ‚ μ§ ν•μ‹ μ¤λ¥

**μ—λ¬ λ©”μ‹μ§€:** `μλ»λ λ‚ μ§ ν•μ‹: {ν‚¤_κ²½λ΅} = {κ°’} (YYYY-MM-DD ν•„μ”)`

**μ›μΈ:** λ‚ μ§ ν•μ‹μ΄ μ¬λ°”λ¥΄μ§€ μ•μ

**ν•΄κ²° λ°©λ²•:**
```yaml
# μλ»λ μμ‹λ“¤
params:
  start_date: "2024/01/01"  # μ¬λμ‹ μ‚¬μ©
  # λλ”
  start_date: "2024-1-1"    # 0 ν¨λ”© λ„λ½

# μ¬λ°”λ¥Έ μμ‹
params:
  start_date: "2024-01-01"  # YYYY-MM-DD ν•μ‹
```

### 5. λ°±ν…μ¤νΈ νλΌλ―Έν„° κ²€μ¦ μ‹¤ν¨

**μ—λ¬ λ©”μ‹μ§€:** `{νλΌλ―Έν„°}λ” μ–‘μ μ •μμ—¬μ•Ό ν•¨: {κ°’}`

**μ›μΈ:** λ°±ν…μ¤νΈ κ΄€λ ¨ νλΌλ―Έν„° κ°’μ΄ μλ»λ¨

**ν•΄κ²° λ°©λ²•:**
```yaml
# μλ»λ μμ‹
l7:
  holding_days: -5  # μμ
  top_k: 0         # 0 μ΄ν•

# μ¬λ°”λ¥Έ μμ‹
l7:
  holding_days: 20  # μ–‘μ μ •μ
  top_k: 12        # μ–‘μ μ •μ
```

## λ¬Έμ  ν•΄κ²° κ°€μ΄λ“

### κ²€μ¦ μ‹¤ν¨ μ‹ μ¦‰μ‹ μμ •

1. **μ—λ¬ λ©”μ‹μ§€ ν™•μΈ**
   - μ–΄λ–¤ ν‚¤μ—μ„ λ¬Έμ κ°€ λ°μƒν–λ”μ§€ ν™•μΈ
   - κµ¬μ²΄μ μΈ λ¬Έμ  μ ν• νμ•…

2. **μ„¤μ • νμΌ μ—΄κΈ°**
   ```bash
   # λ¬Έμ  νμΌ μ—΄κΈ°
   code configs/config.yaml
   ```

3. **λ¬Έμ  μμ •**
   - νƒ€μ… λ³€ν™
   - λ²”μ„ μ΅°μ •
   - λ„λ½ ν‚¤ μ¶”κ°€

4. **μ¬κ²€μ¦**
   ```bash
   python scripts/μ„¤μ •κ²€μ¦.py
   ```

### CI/CD νμ΄ν”„λΌμΈ ν†µν•©

ν”„λ΅μ νΈμ CI/CD νμ΄ν”„λΌμΈμ— κ²€μ¦μ„ μ¶”κ°€ν•λ ¤λ©΄:

```yaml
# .github/workflows/validate-configs.yml
name: Validate Configs
on: [push, pull_request]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: '3.8'
      - run: pip install pyyaml
      - run: python scripts/μ„¤μ •κ²€μ¦.py
```

### λ€λ‰ μμ • μλ™ν™”

μ—¬λ¬ νμΌμ— κ±ΈμΉ λ™μΌν• λ¬Έμ λ¥Ό μμ •ν•λ ¤λ©΄:

```bash
# sedλ¥Ό μ‚¬μ©ν• λ€λ‰ μμ • μμ‹
find configs -name "*.yaml" -exec sed -i 's/top_k: "12"/top_k: 12/g' {} \;
```

## κ΄€λ ¨ λ¬Έμ„

- [μ„¤μ • λ νΌλ°μ¤](μ„¤μ •_λ νΌλ°μ¤.md): μ„¤μ • νλΌλ―Έν„° μƒμ„Έ μ„¤λ…
- [PORTFOLIO_FINAL_REPORT.md](../PORTFOLIO_FINAL_REPORT.md): ν”„λ΅μ νΈ λ³΄κ³ μ„
